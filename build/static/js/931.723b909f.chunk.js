"use strict";(self.webpackChunkmy_ecommerce_frontend=self.webpackChunkmy_ecommerce_frontend||[]).push([[931],{1024(e,i,t){t.d(i,{A:()=>n});const n=(0,t(3797).A)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])},1864(e,i,t){t.d(i,{A:()=>n});const n=(0,t(3797).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},2232(e,i,t){t.d(i,{A:()=>n});const n=(0,t(3797).A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},7607(e,i,t){t.d(i,{A:()=>n});const n=(0,t(3797).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},8296(e,i,t){t.d(i,{A:()=>n});const n=(0,t(3797).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},9931(e,i,t){t.r(i),t.d(i,{default:()=>_});var n=t(9379),r=t(5043),o=t(3216),s=t(2720),a=t(3969),l=t(172),c=t(9806),d=t(2097),x=t(2579),p=t(3089),h=t(5895),f=t(4799),m=t(4527),g=t(916),b=t(6803),u=t(7607),y=t(1864),A=t(3797);const j=(0,A.A)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);var k=t(2232),v=t(1024),S=t(8296);const w=(0,A.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),C=(0,A.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);var z=t(579);function _(e){var i,t,A,_;let{session:R}=e;const{id:E}=(0,o.g)(),D=(0,o.Zp)(),[W,P]=(0,r.useState)(null),[T,N]=(0,r.useState)(!0),[H,O]=(0,r.useState)({open:!1,message:""}),L=(0,r.useCallback)(async()=>{try{if(null===R||void 0===R||!R.user)return;const{data:e,error:i}=await s.N.from("orders").select("\n          *,\n          order_items (\n            id,\n            product_name,\n            quantity,\n            price_at_time,\n            image_url\n          )\n        ").eq("id",E).eq("user_id",R.user.id).single();if(i)throw i;P(e)}catch(e){console.error("ORDER FETCH ERROR:",e),D("/orders",{replace:!0})}finally{N(!1)}},[E,D,R]);(0,r.useEffect)(()=>{L()},[L]);const M=()=>window.print();if(T)return(0,z.jsx)(a.A,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,z.jsx)(l.A,{sx:{color:"black"}})});if(!W)return null;const q=(B=W.status,["pending","processing","shipped","delivered"].indexOf(null===B||void 0===B?void 0:B.toLowerCase()));var B;return(0,z.jsxs)(a.A,{sx:I.pageBackground,children:[(0,z.jsxs)(c.A,{maxWidth:"xl",sx:{px:{xs:2,md:6},py:6},children:[(0,z.jsxs)(a.A,{sx:I.topNav,children:[(0,z.jsx)(d.A,{startIcon:(0,z.jsx)(u.A,{size:18}),onClick:()=>D("/orders"),sx:I.backBtn,children:"RETURN TO ORDERS"}),(0,z.jsxs)(a.A,{sx:{display:"flex",gap:2},children:[(0,z.jsx)(x.A,{onClick:async()=>{const e=window.location.href;navigator.share?await navigator.share({title:"Order #".concat(W.order_number),url:e}):(await navigator.clipboard.writeText(e),O({open:!0,message:"LINK COPIED"}))},sx:I.iconBtn,children:(0,z.jsx)(y.A,{size:20})}),(0,z.jsx)(x.A,{onClick:M,sx:I.iconBtn,children:(0,z.jsx)(j,{size:20})})]})]}),(0,z.jsxs)(p.A,{container:!0,spacing:6,children:[(0,z.jsxs)(p.A,{item:!0,xs:12,md:7,children:[(0,z.jsxs)(h.A,{sx:I.pageTitle,children:["ORDER #",W.order_number||(null===(i=W.id)||void 0===i?void 0:i.slice(0,8).toUpperCase())]}),(0,z.jsxs)(h.A,{sx:I.dateLabel,children:["PLACED ON"," ",new Date(W.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}).toUpperCase()]}),(0,z.jsxs)(a.A,{sx:I.glassCard,children:[(0,z.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",mb:4,gap:2},children:[(0,z.jsx)(k.A,{size:24}),(0,z.jsx)(h.A,{sx:I.sectionHeader,children:"SHIPMENT STATUS"})]}),(0,z.jsx)(a.A,{sx:I.timelineContainer,children:["ORDERED","PROCESSING","SHIPPED","DELIVERED"].map((e,i)=>(0,z.jsxs)(a.A,{sx:I.timelineStep,children:[(0,z.jsx)(a.A,{sx:(0,n.A)((0,n.A)({},I.timelineDot),{},{bgcolor:i<=q?"black":"#eee",color:i<=q?"white":"transparent",borderColor:i<=q?"black":"#eee"}),children:(0,z.jsx)(v.A,{size:12,strokeWidth:4})}),(0,z.jsx)(h.A,{sx:(0,n.A)((0,n.A)({},I.timelineText),{},{color:i<=q?"black":"#999",fontWeight:i<=q?800:500}),children:e}),i<3&&(0,z.jsx)(a.A,{sx:(0,n.A)((0,n.A)({},I.timelineLine),{},{bgcolor:i<q?"black":"#eee"})})]},e))})]}),(0,z.jsxs)(a.A,{sx:{mt:4},children:[(0,z.jsxs)(h.A,{sx:(0,n.A)((0,n.A)({},I.sectionHeader),{},{mb:3}),children:["PURCHASED ASSETS (",(null===(t=W.order_items)||void 0===t?void 0:t.length)||0,")"]}),null===(A=W.order_items)||void 0===A?void 0:A.map(e=>(0,z.jsxs)(a.A,{sx:I.itemCard,children:[(0,z.jsx)("img",{src:e.image_url||"https://images.unsplash.com/photo-1558769132-cb1cb458ed44?w=150&h=150&fit=crop",alt:e.product_name,style:I.itemImg,onError:e=>{e.target.onerror=null,e.target.src="https://images.unsplash.com/photo-1558769132-cb1cb458ed44?w=150&h=150&fit=crop"}}),(0,z.jsxs)(a.A,{sx:{flex:1},children:[(0,z.jsx)(h.A,{sx:I.itemName,children:e.product_name||"Product Name"}),(0,z.jsxs)(h.A,{sx:I.itemMeta,children:["QTY: ",e.quantity]})]}),(0,z.jsxs)(h.A,{sx:I.itemPrice,children:["\u20b9",e.price_at_time]})]},e.id))]})]}),(0,z.jsx)(p.A,{item:!0,xs:12,md:5,children:(0,z.jsx)(a.A,{sx:I.invoiceWrapper,children:(0,z.jsxs)(f.A,{sx:I.invoicePaper,children:[(0,z.jsx)(h.A,{sx:{fontSize:32,fontWeight:900},children:"ONE-T"}),(0,z.jsx)(m.A,{sx:{my:3}}),(0,z.jsxs)(h.A,{sx:I.invoiceLabel,children:[(0,z.jsx)(S.A,{size:12})," SHIP TO"]}),(0,z.jsx)(h.A,{sx:I.invoiceValue,children:W.shipping_address?"".concat(W.shipping_address.city||"",", ").concat(W.shipping_address.zip||""):"N/A"}),(0,z.jsx)(m.A,{sx:{my:3}}),(0,z.jsxs)(h.A,{sx:I.invoiceLabel,children:[(0,z.jsx)(w,{size:12})," PAYMENT"]}),(0,z.jsx)(h.A,{sx:I.invoiceValue,children:null===(_=W.payment_method)||void 0===_?void 0:_.toUpperCase()}),(0,z.jsx)(d.A,{fullWidth:!0,startIcon:(0,z.jsx)(C,{size:16}),variant:"outlined",sx:I.invoiceBtn,onClick:M,children:"DOWNLOAD PDF"})]})})})]})]}),(0,z.jsx)(g.A,{open:H.open,autoHideDuration:2e3,onClose:()=>O({open:!1,message:""}),children:(0,z.jsx)(b.A,{severity:"success",children:H.message})})]})}const I={pageBackground:{bgcolor:"#ffffff",minHeight:"100vh",pb:10},topNav:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:6,pb:2,borderBottom:"1px solid #f0f0f0"},backBtn:{color:"black",fontWeight:800,fontSize:"11px",letterSpacing:"1px","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},iconBtn:{color:"black",border:"1px solid #eee","&:hover":{bgcolor:"#f5f5f5",borderColor:"black"}},pageTitle:{fontSize:{xs:"32px",md:"56px"},fontWeight:900,letterSpacing:"-2px",lineHeight:1,mb:1},dateLabel:{fontSize:"11px",fontWeight:700,color:"#999",letterSpacing:"1px"},sectionHeader:{fontSize:"12px",fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:"#000"},glassCard:{bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"20px",p:4,boxShadow:"0 20px 40px rgba(0,0,0,0.03)",mb:4,mt:4},timelineContainer:{display:"flex",justifyContent:"space-between",position:"relative",mb:4},timelineStep:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative",zIndex:1},timelineDot:{width:24,height:24,borderRadius:"50%",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",mb:1.5,transition:"all 0.3s ease"},timelineText:{fontSize:"10px",letterSpacing:"0.5px",textAlign:"center"},timelineLine:{position:"absolute",top:12,left:"50%",width:"100%",height:2,zIndex:-1},itemCard:{display:"flex",alignItems:"center",gap:3,p:2,mb:2,bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"16px",transition:"transform 0.2s",animation:"slideIn 0.5s ease forwards","&:hover":{transform:"translateX(5px)",borderColor:"#000"}},itemImg:{width:60,height:60,objectFit:"cover",borderRadius:"8px",bgcolor:"#f0f0f0"},itemName:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",mb:.5},itemMeta:{fontSize:"11px",color:"#666",fontWeight:600},itemPrice:{fontWeight:800,fontSize:"14px"},invoiceWrapper:{perspective:"1500px",position:"sticky",top:100,animation:"slideIn 0.8s ease-out"},invoicePaper:{p:5,bgcolor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05), 0 30px 60px rgba(0,0,0,0.1)",transformStyle:"preserve-3d",animation:"float 6s ease-in-out infinite",borderTop:"6px solid black",position:"relative","&::after":{content:'""',position:"absolute",bottom:-10,left:0,right:0,height:10,background:"linear-gradient(45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%), linear-gradient(-45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%)",backgroundSize:"20px 20px",backgroundPosition:"0 0"}},invoiceLabel:{fontSize:"10px",fontWeight:800,color:"#999",letterSpacing:"1px",mb:1,display:"flex",alignItems:"center",gap:.5},invoiceValue:{fontSize:"12px",fontWeight:600,lineHeight:1.5,color:"#333"},invoiceBtn:{mt:4,color:"black",borderColor:"black",borderRadius:0,fontWeight:800,fontSize:"11px",letterSpacing:"1px",py:1.5,borderWidth:"2px","&:hover":{borderWidth:"2px",bgcolor:"black",color:"white"}}}}}]);
//# sourceMappingURL=931.723b909f.chunk.js.map