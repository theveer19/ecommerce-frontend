/*! For license information please see 102.0d911ea0.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkmy_ecommerce_frontend=self.webpackChunkmy_ecommerce_frontend||[]).push([[102],{1990(e,t,i){i.d(t,{A:()=>r});const r=(0,i(7784).A)("package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},4102(e,t,i){i.r(t),i.d(t,{default:()=>I});var r=i(9379),n=i(5043),s=i(5685),o=i(2720),a=i(3969),l=i(172),c=i(9806),x=i(2097),d=i(2579),p=i(3089),h=i(5895),f=i(4799),g=i(4527),m=i(916),A=i(6803),b=i(5469),u=i(8306),j=i(7784);const y=(0,j.A)("printer",[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]]);var v=i(1990),k=i(6210),S=i(8006);const w=(0,j.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),z=(0,j.A)("receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var C=i(579);function I(){var e,t,i;const{id:j}=(0,s.g)(),I=(0,s.Zp)(),[T,R]=(0,n.useState)(null),[W,N]=(0,n.useState)(!0),[D,E]=(0,n.useState)({open:!1,message:""}),L=(0,n.useCallback)(async()=>{try{const{data:{user:e}}=await o.N.auth.getUser();if(!e)return void I("/login");const{data:t,error:i}=await o.N.from("orders").select("*, order_items (*, product:products(*))").eq("id",j).eq("user_id",e.id).single();if(i)throw i;const{data:n}=await o.N.from("addresses").select("*").eq("order_id",j).maybeSingle();R((0,r.A)((0,r.A)({},t),{},{shipping_address:n}))}catch(e){console.error(e),I("/orders")}finally{N(!1)}},[j,I]);(0,n.useEffect)(()=>{L()},[L]);if(W)return(0,C.jsx)(a.A,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,C.jsx)(l.A,{sx:{color:"black"}})});if(!T)return null;const O=(P=T.status,["pending","processing","shipped","delivered"].indexOf(null===P||void 0===P?void 0:P.toLowerCase()));var P;return(0,C.jsxs)(a.A,{sx:_.pageBackground,children:[(0,C.jsx)("style",{children:"\n        @keyframes float { 0% { transform: translateY(0px) rotateX(0deg); } 50% { transform: translateY(-5px) rotateX(1deg); } 100% { transform: translateY(0px) rotateX(0deg); } }\n        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n        .invoice-barcode {\n          height: 40px;\n          width: 100%;\n          background: repeating-linear-gradient(to right, #000 0px, #000 2px, transparent 2px, transparent 4px, #000 4px, #000 8px, transparent 8px, transparent 9px);\n          opacity: 0.8;\n        }\n      "}),(0,C.jsxs)(c.A,{maxWidth:"xl",sx:{px:{xs:2,md:6},py:6},children:[(0,C.jsxs)(a.A,{sx:_.topNav,children:[(0,C.jsx)(x.A,{startIcon:(0,C.jsx)(b.A,{size:18}),onClick:()=>I("/orders"),sx:_.backBtn,children:"RETURN TO ORDERS"}),(0,C.jsxs)(a.A,{sx:{display:"flex",gap:2},children:[(0,C.jsx)(d.A,{onClick:async()=>{const e=window.location.href;navigator.share?await navigator.share({title:"Order #".concat(T.order_number),url:e}):(navigator.clipboard.writeText(e),E({open:!0,message:"LINK COPIED"}))},sx:_.iconBtn,children:(0,C.jsx)(u.A,{size:20})}),(0,C.jsx)(d.A,{onClick:()=>window.print(),sx:_.iconBtn,children:(0,C.jsx)(y,{size:20})})]})]}),(0,C.jsxs)(p.A,{container:!0,spacing:6,children:[(0,C.jsxs)(p.A,{item:!0,xs:12,md:7,sx:{animation:"slideIn 0.6s ease-out"},children:[(0,C.jsxs)(a.A,{sx:{mb:6},children:[(0,C.jsxs)(h.A,{variant:"h1",sx:_.pageTitle,children:["ORDER #",T.order_number]}),(0,C.jsxs)(h.A,{sx:_.dateLabel,children:["PLACED ON ",new Date(T.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}).toUpperCase()]})]}),(0,C.jsxs)(a.A,{sx:_.glassCard,children:[(0,C.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",mb:4,gap:2},children:[(0,C.jsx)(v.A,{size:24,color:"black"}),(0,C.jsx)(h.A,{sx:_.sectionHeader,children:"SHIPMENT STATUS"})]}),(0,C.jsx)(a.A,{sx:_.timelineContainer,children:["ORDERED","PROCESSING","SHIPPED","DELIVERED"].map((e,t)=>(0,C.jsxs)(a.A,{sx:_.timelineStep,children:[(0,C.jsx)(a.A,{sx:(0,r.A)((0,r.A)({},_.timelineDot),{},{bgcolor:t<=O?"black":"#eee",color:t<=O?"white":"transparent",borderColor:t<=O?"black":"#eee"}),children:(0,C.jsx)(k.A,{size:12,strokeWidth:4})}),(0,C.jsx)(h.A,{sx:(0,r.A)((0,r.A)({},_.timelineText),{},{color:t<=O?"black":"#999",fontWeight:t<=O?800:500}),children:e}),t<3&&(0,C.jsx)(a.A,{sx:(0,r.A)((0,r.A)({},_.timelineLine),{},{bgcolor:t<O?"black":"#eee"})})]},e))}),T.tracking_number&&(0,C.jsxs)(a.A,{sx:_.trackingBox,children:[(0,C.jsx)(h.A,{sx:{fontSize:"11px",fontWeight:800,color:"#666",mb:.5},children:"TRACKING ID"}),(0,C.jsx)(h.A,{sx:{fontSize:"16px",fontWeight:900,letterSpacing:"1px"},children:T.tracking_number}),(0,C.jsx)(h.A,{sx:{fontSize:"11px",fontWeight:600,color:"#999",mt:.5},children:null===(e=T.shipping_carrier)||void 0===e?void 0:e.toUpperCase()})]})]}),(0,C.jsxs)(a.A,{sx:{mt:4},children:[(0,C.jsxs)(h.A,{sx:(0,r.A)((0,r.A)({},_.sectionHeader),{},{mb:3}),children:["PURCHASED ASSETS (",T.order_items.length,")"]}),T.order_items.map((e,t)=>{var i,n,s,o;return(0,C.jsxs)(a.A,{sx:(0,r.A)((0,r.A)({},_.itemCard),{},{animationDelay:"".concat(.1*t,"s")}),children:[(0,C.jsx)("img",{src:null===(i=e.product)||void 0===i?void 0:i.image_url,alt:null===(n=e.product)||void 0===n?void 0:n.name,style:_.itemImg}),(0,C.jsxs)(a.A,{sx:{flex:1},children:[(0,C.jsx)(h.A,{sx:_.itemName,children:null===(s=e.product)||void 0===s?void 0:s.name}),(0,C.jsxs)(h.A,{sx:_.itemMeta,children:["SIZE: ",e.size||"N/A"," \u2022 QTY: ",e.quantity]})]}),(0,C.jsxs)(h.A,{sx:_.itemPrice,children:["\u20b9",null===(o=e.price_at_time)||void 0===o?void 0:o.toLocaleString()]})]},e.id)})]})]}),(0,C.jsx)(p.A,{item:!0,xs:12,md:5,children:(0,C.jsx)(a.A,{sx:_.invoiceWrapper,children:(0,C.jsxs)(f.A,{sx:_.invoicePaper,children:[(0,C.jsxs)(a.A,{sx:{textAlign:"center",mb:4},children:[(0,C.jsx)(h.A,{sx:{fontSize:"32px",fontWeight:900,letterSpacing:"-2px",lineHeight:1},children:"ONE-T"}),(0,C.jsx)(h.A,{sx:{fontSize:"10px",letterSpacing:"4px",color:"#666",mt:.5},children:"OFFICIAL INVOICE"})]}),(0,C.jsx)(g.A,{sx:{borderStyle:"dashed",borderColor:"#000",mb:4}}),(0,C.jsxs)(p.A,{container:!0,spacing:3,sx:{mb:4},children:[(0,C.jsx)(p.A,{item:!0,xs:6,children:(0,C.jsxs)(a.A,{sx:_.invoiceBlock,children:[(0,C.jsxs)(h.A,{sx:_.invoiceLabel,children:[(0,C.jsx)(S.A,{size:12})," SHIP TO"]}),T.shipping_address?(0,C.jsxs)(h.A,{sx:_.invoiceValue,children:[T.shipping_address.full_name,(0,C.jsx)("br",{}),T.shipping_address.address_line1,(0,C.jsx)("br",{}),T.shipping_address.city,", ",T.shipping_address.state]}):(0,C.jsx)(h.A,{sx:_.invoiceValue,children:"N/A"})]})}),(0,C.jsx)(p.A,{item:!0,xs:6,children:(0,C.jsxs)(a.A,{sx:_.invoiceBlock,children:[(0,C.jsxs)(h.A,{sx:_.invoiceLabel,children:[(0,C.jsx)(w,{size:12})," PAYMENT"]}),(0,C.jsxs)(h.A,{sx:_.invoiceValue,children:[null===(t=T.payment_method)||void 0===t?void 0:t.replace("_"," ").toUpperCase(),(0,C.jsx)("br",{}),"STATUS: ",null===(i=T.payment_status)||void 0===i?void 0:i.toUpperCase()]})]})})]}),(0,C.jsxs)(a.A,{sx:{bgcolor:"#f9f9f9",p:3,borderRadius:"12px"},children:[(0,C.jsxs)(a.A,{sx:_.costRow,children:[(0,C.jsx)(h.A,{sx:_.costLabel,children:"SUBTOTAL"}),(0,C.jsxs)(h.A,{sx:_.costValue,children:["\u20b9",T.subtotal]})]}),(0,C.jsxs)(a.A,{sx:_.costRow,children:[(0,C.jsx)(h.A,{sx:_.costLabel,children:"SHIPPING"}),(0,C.jsxs)(h.A,{sx:_.costValue,children:["\u20b9",T.shipping_cost]})]}),(0,C.jsx)(g.A,{sx:{my:2}}),(0,C.jsxs)(a.A,{sx:_.costRow,children:[(0,C.jsx)(h.A,{sx:(0,r.A)((0,r.A)({},_.costLabel),{},{fontSize:"14px",color:"black"}),children:"TOTAL PAID"}),(0,C.jsxs)(h.A,{sx:(0,r.A)((0,r.A)({},_.costValue),{},{fontSize:"20px"}),children:["\u20b9",T.total_amount]})]})]}),(0,C.jsxs)(a.A,{sx:{mt:5,textAlign:"center",opacity:.6},children:[(0,C.jsx)("div",{className:"invoice-barcode"}),(0,C.jsx)(h.A,{sx:{fontSize:"9px",mt:1,letterSpacing:"2px"},children:"AUTHENTICATED TRANSACTION"})]}),(0,C.jsx)(x.A,{fullWidth:!0,startIcon:(0,C.jsx)(z,{size:16}),variant:"outlined",sx:_.invoiceBtn,onClick:()=>window.print(),children:"DOWNLOAD PDF"})]})})})]})]}),(0,C.jsx)(m.A,{open:D.open,autoHideDuration:2e3,onClose:()=>E((0,r.A)((0,r.A)({},D),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,C.jsx)(A.A,{severity:"success",sx:{bgcolor:"black",color:"white",fontWeight:700,borderRadius:"50px"},children:D.message})})]})}const _={pageBackground:{bgcolor:"#ffffff",minHeight:"100vh",pb:10},topNav:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:6,pb:2,borderBottom:"1px solid #f0f0f0"},backBtn:{color:"black",fontWeight:800,fontSize:"11px",letterSpacing:"1px","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},iconBtn:{color:"black",border:"1px solid #eee","&:hover":{bgcolor:"#f5f5f5",borderColor:"black"}},pageTitle:{fontSize:{xs:"32px",md:"56px"},fontWeight:900,letterSpacing:"-2px",lineHeight:1,mb:1},dateLabel:{fontSize:"11px",fontWeight:700,color:"#999",letterSpacing:"1px"},sectionHeader:{fontSize:"12px",fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:"#000"},glassCard:{bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"20px",p:4,boxShadow:"0 20px 40px rgba(0,0,0,0.03)",mb:4},timelineContainer:{display:"flex",justifyContent:"space-between",position:"relative",mb:4},timelineStep:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative",zIndex:1},timelineDot:{width:24,height:24,borderRadius:"50%",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",mb:1.5,transition:"all 0.3s ease"},timelineText:{fontSize:"10px",letterSpacing:"0.5px",textAlign:"center"},timelineLine:{position:"absolute",top:12,left:"50%",width:"100%",height:2,zIndex:-1},trackingBox:{bgcolor:"#f9f9f9",p:2,borderRadius:"12px",border:"1px solid #eee"},itemCard:{display:"flex",alignItems:"center",gap:3,p:2,mb:2,bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"16px",transition:"transform 0.2s",animation:"slideIn 0.5s ease forwards","&:hover":{transform:"translateX(5px)",borderColor:"#000"}},itemImg:{width:60,height:60,objectFit:"cover",borderRadius:"8px",bgcolor:"#f0f0f0"},itemName:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",mb:.5},itemMeta:{fontSize:"11px",color:"#666",fontWeight:600},itemPrice:{fontWeight:800,fontSize:"14px"},invoiceWrapper:{perspective:"1500px",position:"sticky",top:100,animation:"slideIn 0.8s ease-out"},invoicePaper:{p:5,bgcolor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05), 0 30px 60px rgba(0,0,0,0.1)",transformStyle:"preserve-3d",animation:"float 6s ease-in-out infinite",borderTop:"6px solid black",position:"relative","&::after":{content:'""',position:"absolute",bottom:-10,left:0,right:0,height:10,background:"linear-gradient(45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%), linear-gradient(-45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%)",backgroundSize:"20px 20px",backgroundPosition:"0 0"}},invoiceBlock:{mb:2},invoiceLabel:{fontSize:"10px",fontWeight:800,color:"#999",letterSpacing:"1px",mb:1,display:"flex",alignItems:"center",gap:.5},invoiceValue:{fontSize:"12px",fontWeight:600,lineHeight:1.5,color:"#333"},costRow:{display:"flex",justifyContent:"space-between",mb:1},costLabel:{fontSize:"11px",fontWeight:700,color:"#666"},costValue:{fontSize:"12px",fontWeight:800,color:"#000"},invoiceBtn:{mt:4,color:"black",borderColor:"black",borderRadius:0,fontWeight:800,fontSize:"11px",letterSpacing:"1px",py:1.5,borderWidth:"2px","&:hover":{borderWidth:"2px",bgcolor:"black",color:"white"}}}},5469(e,t,i){i.d(t,{A:()=>r});const r=(0,i(7784).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6210(e,t,i){i.d(t,{A:()=>r});const r=(0,i(7784).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},8006(e,t,i){i.d(t,{A:()=>r});const r=(0,i(7784).A)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},8306(e,t,i){i.d(t,{A:()=>r});const r=(0,i(7784).A)("share-2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])}}]);
//# sourceMappingURL=102.0d911ea0.chunk.js.map