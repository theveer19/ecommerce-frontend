{"version":3,"file":"static/js/972.a6779311.chunk.js","mappings":"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","sources":["components/ProductForm.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"../supabase/supabaseClient\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Typography,\r\n  Paper,\r\n  IconButton,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  Select,\r\n  MenuItem,\r\n  Alert,\r\n  Snackbar,\r\n  CircularProgress,\r\n  FormControlLabel,\r\n  Checkbox,\r\n  InputAdornment,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Chip,\r\n  Tooltip,\r\n  Divider\r\n} from \"@mui/material\";\r\nimport {\r\n  ArrowBack,\r\n  Save,\r\n  CloudUpload,\r\n  CheckCircle,\r\n  Star,\r\n  Inventory,\r\n  LocalOffer\r\n} from \"@mui/icons-material\";\r\n\r\nexport default function ProductForm() {\r\n  const { id } = useParams();\r\n  const navigate = useNavigate();\r\n  const isEditMode = !!id;\r\n  \r\n  // Form state\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [snackbar, setSnackbar] = useState({ open: false, message: \"\", severity: \"success\" });\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  \r\n  // Product fields\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [price, setPrice] = useState(\"\");\r\n  const [category, setCategory] = useState(\"\");\r\n  const [stock, setStock] = useState(\"0\");\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(\"\");\r\n  const [brand, setBrand] = useState(\"\");\r\n  const [sku, setSku] = useState(\"\");\r\n  const [isActive, setIsActive] = useState(true);\r\n  const [isFeatured, setIsFeatured] = useState(false);\r\n\r\n  // ‚úÖ UPDATED: Categories matching your Navbar Links EXACTLY\r\n  const categories = [\r\n    { value: \"tshirts\", label: \"T-Shirts\" },\r\n    { value: \"hoodies\", label: \"Hoodies\" },\r\n    { value: \"jackets\", label: \"Jackets\" },\r\n    { value: \"shirts\", label: \"Shirts\" },\r\n    { value: \"sweatshirts\", label: \"Sweatshirts\" },\r\n    { value: \"pants\", label: \"Pants\" },\r\n    { value: \"cargos\", label: \"Cargos\" },\r\n    { value: \"shorts\", label: \"Shorts\" },\r\n    { value: \"caps\", label: \"Caps\" },\r\n    { value: \"bags\", label: \"Bags\" },\r\n    { value: \"jewelry\", label: \"Jewelry\" },\r\n    { value: \"other\", label: \"Other\" }\r\n  ];\r\n\r\n  // Steps\r\n  const steps = ['Basic Info', 'Pricing & Stock', 'Image', 'Review'];\r\n\r\n  // Fetch product if editing\r\n  useEffect(() => {\r\n    if (isEditMode) {\r\n      fetchProduct();\r\n    }\r\n  }, [id]);\r\n\r\n  // Fetch product data\r\n  const fetchProduct = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data, error } = await supabase\r\n        .from(\"products\")\r\n        .select(\"*\")\r\n        .eq(\"id\", id)\r\n        .single();\r\n\r\n      if (error) throw error;\r\n      \r\n      if (data) {\r\n        setName(data.name || \"\");\r\n        setDescription(data.description || \"\");\r\n        setPrice(data.price?.toString() || \"\");\r\n        setCategory(data.category || \"\");\r\n        setStock(data.stock?.toString() || \"0\");\r\n        setImagePreview(data.image_url || \"\");\r\n        setBrand(data.brand || \"\");\r\n        setSku(data.sku || \"\");\r\n        \r\n        if (data.hasOwnProperty('is_active')) {\r\n          setIsActive(data.is_active !== false);\r\n        }\r\n        if (data.hasOwnProperty('is_featured')) {\r\n          setIsFeatured(data.is_featured || false);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Error fetching product:\", error);\r\n      showSnackbar(\"Error loading product\", \"error\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Handle image upload\r\n  const handleImageChange = (e) => {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      if (!file.type.startsWith('image/')) {\r\n        showSnackbar(\"Please select an image file\", \"error\");\r\n        return;\r\n      }\r\n      \r\n      if (file.size > 5 * 1024 * 1024) {\r\n        showSnackbar(\"Image size should be less than 5MB\", \"error\");\r\n        return;\r\n      }\r\n      \r\n      setImageFile(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => setImagePreview(reader.result);\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  // Upload image to Supabase\r\n  const uploadImage = async (file) => {\r\n    try {\r\n      setUploading(true);\r\n      \r\n      const fileExt = file.name.split('.').pop();\r\n      const fileName = `${Math.random().toString(36).substring(2)}_${Date.now()}.${fileExt}`;\r\n      const filePath = `products/${fileName}`;\r\n      \r\n      const { error: uploadError } = await supabase.storage\r\n        .from('product-images')\r\n        .upload(filePath, file, {\r\n          cacheControl: '3600',\r\n          upsert: false\r\n        });\r\n      \r\n      if (uploadError) throw uploadError;\r\n      \r\n      const { data: { publicUrl } } = supabase.storage\r\n        .from('product-images')\r\n        .getPublicUrl(filePath);\r\n      \r\n      return publicUrl;\r\n    } catch (error) {\r\n      console.error(\"Upload error:\", error);\r\n      throw error;\r\n    } finally {\r\n      setUploading(false);\r\n    }\r\n  };\r\n\r\n  const showSnackbar = (message, severity = \"success\") => {\r\n    setSnackbar({ open: true, message, severity });\r\n  };\r\n\r\n  // Validate current step\r\n  const validateCurrentStep = () => {\r\n    switch (activeStep) {\r\n      case 0: \r\n        if (!name.trim()) {\r\n          showSnackbar(\"Product name is required\", \"error\");\r\n          return false;\r\n        }\r\n        if (!category) {\r\n          showSnackbar(\"Please select a category\", \"error\");\r\n          return false;\r\n        }\r\n        return true;\r\n        \r\n      case 1:\r\n        if (!price) {\r\n          showSnackbar(\"Price is required\", \"error\");\r\n          return false;\r\n        }\r\n        const priceNum = parseFloat(price);\r\n        if (isNaN(priceNum) || priceNum <= 0) {\r\n          showSnackbar(\"Price must be greater than 0\", \"error\");\r\n          return false;\r\n        }\r\n        const stockNum = parseInt(stock);\r\n        if (isNaN(stockNum) || stockNum < 0) {\r\n          showSnackbar(\"Stock must be 0 or greater\", \"error\");\r\n          return false;\r\n        }\r\n        return true;\r\n        \r\n      case 2:\r\n        if (!imagePreview && !imageFile) {\r\n          showSnackbar(\"Please upload a product image\", \"error\");\r\n          return false;\r\n        }\r\n        return true;\r\n        \r\n      default:\r\n        return true;\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (!validateCurrentStep()) {\r\n      return;\r\n    }\r\n    setActiveStep((prev) => prev + 1);\r\n  };\r\n\r\n  const handleBack = () => {\r\n    setActiveStep((prev) => prev - 1);\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    \r\n    try {\r\n      let imageUrl = imagePreview;\r\n      \r\n      if (imageFile) {\r\n        try {\r\n          imageUrl = await uploadImage(imageFile);\r\n        } catch (error) {\r\n          console.error(\"Image upload failed:\", error);\r\n          if (!imagePreview) {\r\n            imageUrl = \"https://via.placeholder.com/400x300?text=Product+Image\";\r\n          }\r\n        }\r\n      }\r\n      \r\n      const basicProductData = {\r\n        name: name.trim(),\r\n        description: description.trim(),\r\n        price: parseFloat(price),\r\n        category, // This now saves 'tshirts', 'hoodies', etc.\r\n        stock: parseInt(stock) || 0,\r\n        image_url: imageUrl,\r\n        brand: brand.trim() || null,\r\n        sku: sku.trim() || `SKU-${Date.now()}`,\r\n        updated_at: new Date().toISOString(),\r\n      };\r\n      \r\n      const productDataWithNewColumns = {\r\n        ...basicProductData,\r\n        is_active: isActive,\r\n        is_featured: isFeatured,\r\n      };\r\n      \r\n      let result;\r\n      let saveAttempt = 1;\r\n      \r\n      try {\r\n        if (isEditMode) {\r\n          result = await supabase\r\n            .from(\"products\")\r\n            .update(productDataWithNewColumns)\r\n            .eq(\"id\", id);\r\n        } else {\r\n          productDataWithNewColumns.created_at = new Date().toISOString();\r\n          result = await supabase\r\n            .from(\"products\")\r\n            .insert([productDataWithNewColumns]);\r\n        }\r\n        \r\n        const { error } = result;\r\n        \r\n        if (error) {\r\n          if (error.message.includes('is_active') || error.message.includes('is_featured')) {\r\n            console.log(\"New columns not found in schema, trying without them...\");\r\n            saveAttempt = 2;\r\n            \r\n            if (isEditMode) {\r\n              result = await supabase\r\n                .from(\"products\")\r\n                .update(basicProductData)\r\n                .eq(\"id\", id);\r\n            } else {\r\n              basicProductData.created_at = new Date().toISOString();\r\n              result = await supabase\r\n                .from(\"products\")\r\n                .insert([basicProductData]);\r\n            }\r\n            \r\n            const { error: secondError } = result;\r\n            if (secondError) throw secondError;\r\n            \r\n            showSnackbar(\r\n              `Product ${isEditMode ? 'updated' : 'created'} successfully!`,\r\n              \"warning\"\r\n            );\r\n          } else {\r\n            throw error;\r\n          }\r\n        } else {\r\n          showSnackbar(\r\n            `Product ${isEditMode ? 'updated' : 'created'} successfully!`,\r\n            \"success\"\r\n          );\r\n        }\r\n      } catch (error) {\r\n        console.error(`Save attempt ${saveAttempt} failed:`, error);\r\n        throw error;\r\n      }\r\n      \r\n      setTimeout(() => navigate(\"/admin\"), 1500);\r\n      \r\n    } catch (error) {\r\n      console.error(\"Error in form submission:\", error);\r\n      showSnackbar(\r\n        `Failed to ${isEditMode ? 'update' : 'create'} product: ${error.message}`,\r\n        \"error\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderStepContent = (step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ color: '#8B7355', fontWeight: 600, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <LocalOffer />\r\n              Basic Information\r\n            </Typography>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Product Name *\"\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                  placeholder=\"Enter product name\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  label=\"Description\"\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  fullWidth\r\n                  multiline\r\n                  rows={4}\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                  placeholder=\"Enter product description\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                {/* ‚úÖ UPDATED CATEGORY SELECTOR */}\r\n                <FormControl fullWidth required sx={{ mb: 2 }}>\r\n                  <InputLabel>Category *</InputLabel>\r\n                  <Select\r\n                    value={category}\r\n                    onChange={(e) => setCategory(e.target.value)}\r\n                    label=\"Category *\"\r\n                    sx={{ borderRadius: '12px' }}\r\n                  >\r\n                    <MenuItem value=\"\">\r\n                      <em>Select a category</em>\r\n                    </MenuItem>\r\n                    {categories.map((cat) => (\r\n                      <MenuItem key={cat.value} value={cat.value}>\r\n                        {cat.label}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Select>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Brand\"\r\n                  value={brand}\r\n                  onChange={(e) => setBrand(e.target.value)}\r\n                  fullWidth\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                  placeholder=\"Enter brand name\"\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        );\r\n      \r\n      case 1:\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ color: '#8B7355', fontWeight: 600, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <Inventory />\r\n              Pricing & Inventory\r\n            </Typography>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Price *\"\r\n                  type=\"number\"\r\n                  value={price}\r\n                  onChange={(e) => setPrice(e.target.value)}\r\n                  fullWidth\r\n                  required\r\n                  InputProps={{\r\n                    startAdornment: <InputAdornment position=\"start\">‚Çπ</InputAdornment>,\r\n                    inputProps: { min: 0, step: 0.01 }\r\n                  }}\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"Stock Quantity\"\r\n                  type=\"number\"\r\n                  value={stock}\r\n                  onChange={(e) => setStock(e.target.value)}\r\n                  fullWidth\r\n                  InputProps={{ inputProps: { min: 0 } }}\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <TextField\r\n                  label=\"SKU\"\r\n                  value={sku}\r\n                  onChange={(e) => setSku(e.target.value)}\r\n                  fullWidth\r\n                  sx={{ mb: 2, '& .MuiOutlinedInput-root': { borderRadius: '12px' } }}\r\n                  placeholder=\"Auto-generated if empty\"\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Divider sx={{ my: 2 }} />\r\n                <Typography variant=\"subtitle1\" sx={{ color: '#6B6B5A', mb: 2, fontWeight: 600 }}>\r\n                  Product Status\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', gap: 4, flexWrap: 'wrap' }}>\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={isActive}\r\n                        onChange={(e) => setIsActive(e.target.checked)}\r\n                        color=\"primary\"\r\n                        sx={{ '&.Mui-checked': { color: '#8B7355' } }}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <CheckCircle sx={{ color: isActive ? '#22C55E' : '#9CA3AF' }} />\r\n                        <Typography>Active Product</Typography>\r\n                      </Box>\r\n                    }\r\n                  />\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Checkbox\r\n                        checked={isFeatured}\r\n                        onChange={(e) => setIsFeatured(e.target.checked)}\r\n                        color=\"primary\"\r\n                        sx={{ '&.Mui-checked': { color: '#8B7355' } }}\r\n                      />\r\n                    }\r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                        <Star sx={{ color: isFeatured ? '#FFD700' : '#9CA3AF' }} />\r\n                        <Typography>Featured Product</Typography>\r\n                      </Box>\r\n                    }\r\n                  />\r\n                </Box>\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        );\r\n      \r\n      case 2:\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ color: '#8B7355', fontWeight: 600, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <CloudUpload />\r\n              Product Image\r\n            </Typography>\r\n            <Box sx={{ textAlign: 'center' }}>\r\n              <input\r\n                accept=\"image/*\"\r\n                style={{ display: 'none' }}\r\n                id=\"image-upload\"\r\n                type=\"file\"\r\n                onChange={handleImageChange}\r\n              />\r\n              <label htmlFor=\"image-upload\">\r\n                <Button\r\n                  variant=\"outlined\"\r\n                  component=\"span\"\r\n                  startIcon={<CloudUpload />}\r\n                  sx={{ \r\n                    mb: 3,\r\n                    borderColor: '#8B7355',\r\n                    color: '#8B7355',\r\n                    borderRadius: '12px',\r\n                    px: 4, py: 1.5,\r\n                    '&:hover': {\r\n                      borderColor: '#755F47',\r\n                      background: 'rgba(139, 115, 85, 0.05)'\r\n                    }\r\n                  }}\r\n                >\r\n                  {uploading ? 'Uploading...' : 'Choose Image'}\r\n                </Button>\r\n              </label>\r\n              \r\n              {imagePreview && (\r\n                <Box sx={{ mt: 2 }}>\r\n                  <Card sx={{ maxWidth: 300, margin: '0 auto', borderRadius: '16px', overflow: 'hidden', boxShadow: '0 8px 24px rgba(0,0,0,0.1)' }}>\r\n                    <CardMedia component=\"img\" image={imagePreview} alt=\"Preview\" sx={{ height: 200, objectFit: 'cover' }} />\r\n                    <CardContent>\r\n                      {imageFile && (\r\n                        <Typography variant=\"caption\" sx={{ display: 'block', color: 'text.secondary' }}>\r\n                          {imageFile.name} ({(imageFile.size / 1024).toFixed(1)} KB)\r\n                        </Typography>\r\n                      )}\r\n                    </CardContent>\r\n                  </Card>\r\n                </Box>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        );\r\n      \r\n      case 3:\r\n        // Find readable label for the selected category\r\n        const categoryLabel = categories.find(c => c.value === category)?.label || category || \"Not specified\";\r\n\r\n        return (\r\n          <Box sx={{ p: 3 }}>\r\n            <Typography variant=\"h6\" gutterBottom sx={{ color: '#8B7355', fontWeight: 600, display: 'flex', alignItems: 'center', gap: 1 }}>\r\n              <CheckCircle />\r\n              Review & Submit\r\n            </Typography>\r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} md={8}>\r\n                <Card sx={{ mb: 3, borderRadius: '16px', border: '1px solid rgba(139, 115, 85, 0.2)', boxShadow: '0 4px 20px rgba(0,0,0,0.05)' }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ color: '#4A4A3A' }}>\r\n                      Product Summary\r\n                    </Typography>\r\n                    <Grid container spacing={2}>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" sx={{ color: '#6B7280', mb: 0.5 }}>Name:</Typography>\r\n                        <Typography variant=\"body1\" fontWeight={600}>{name || \"Not specified\"}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" sx={{ color: '#6B7280', mb: 0.5 }}>Price:</Typography>\r\n                        <Typography variant=\"body1\" fontWeight={600} color=\"#8B7355\">‚Çπ{price || \"0.00\"}</Typography>\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" sx={{ color: '#6B7280', mb: 0.5 }}>Category:</Typography>\r\n                        <Chip \r\n                          label={categoryLabel} \r\n                          size=\"small\"\r\n                          sx={{ background: 'rgba(139, 115, 85, 0.1)', color: '#8B7355', fontWeight: 500 }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Typography variant=\"body2\" sx={{ color: '#6B7280', mb: 0.5 }}>Stock:</Typography>\r\n                        <Typography variant=\"body1\" sx={{ fontWeight: 600, color: parseInt(stock) < 10 ? '#EF4444' : '#22C55E' }}>\r\n                          {stock} units\r\n                        </Typography>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n              <Grid item xs={12} md={4}>\r\n                <Card sx={{ borderRadius: '16px', border: '1px solid rgba(139, 115, 85, 0.2)' }}>\r\n                  <CardContent>\r\n                    <Typography variant=\"h6\" gutterBottom sx={{ color: '#4A4A3A' }}>Image Preview</Typography>\r\n                    {imagePreview ? (\r\n                      <CardMedia component=\"img\" image={imagePreview} alt=\"Product\" sx={{ borderRadius: '12px', mb: 2, height: 200, objectFit: 'cover' }} />\r\n                    ) : (\r\n                      <Box sx={{ height: 200, bgcolor: '#F5F1E8', display: 'flex', alignItems: 'center', justifyContent: 'center', borderRadius: '12px' }}>\r\n                        <Typography variant=\"body2\" color=\"#8B7355\">No image uploaded</Typography>\r\n                      </Box>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid>\r\n            </Grid>\r\n            <Box sx={{ mt: 3, p: 3, bgcolor: '#F5F1E8', borderRadius: '16px', border: '1px solid rgba(139, 115, 85, 0.2)' }}>\r\n              <Typography variant=\"body2\" sx={{ color: '#8B7355', mb: 1, fontWeight: 600 }}>\r\n                ‚ö° Ready to {isEditMode ? 'Update' : 'Publish'}!\r\n              </Typography>\r\n            </Box>\r\n          </Box>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  if (loading && isEditMode) {\r\n    return (\r\n      <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '100vh', background: '#F5F1E8' }}>\r\n        <CircularProgress sx={{ color: '#8B7355' }} />\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={{ p: 3, background: '#F5F1E8', minHeight: '100vh' }}>\r\n      <Paper sx={{ p: 3, borderRadius: '20px', maxWidth: 1200, margin: '0 auto', border: '1px solid rgba(139, 115, 85, 0.2)', boxShadow: '0 8px 32px rgba(0,0,0,0.05)' }}>\r\n        <Box sx={{ display: 'flex', alignItems: 'center', mb: 4 }}>\r\n          <Tooltip title=\"Back to Dashboard\">\r\n            <IconButton onClick={() => navigate('/admin')} sx={{ mr: 2, color: '#8B7355', background: 'rgba(139, 115, 85, 0.1)', '&:hover': { background: 'rgba(139, 115, 85, 0.2)' } }}>\r\n              <ArrowBack />\r\n            </IconButton>\r\n          </Tooltip>\r\n          <Box>\r\n            <Typography variant=\"h4\" sx={{ fontWeight: 800, color: '#4A4A3A' }}>\r\n              {isEditMode ? '‚úèÔ∏è Edit Product' : 'üöÄ Add New Product'}\r\n            </Typography>\r\n          </Box>\r\n        </Box>\r\n        \r\n        <Stepper activeStep={activeStep} sx={{ mb: 4, '& .MuiStepLabel-root .Mui-active': { color: '#8B7355' } }}>\r\n          {steps.map((label) => (\r\n            <Step key={label}><StepLabel>{label}</StepLabel></Step>\r\n          ))}\r\n        </Stepper>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n          {renderStepContent(activeStep)}\r\n          <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\r\n            <Button disabled={activeStep === 0 || loading} onClick={handleBack} sx={{ color: '#6B6B5A', fontWeight: 600 }}>Back</Button>\r\n            <Box>\r\n              {activeStep === steps.length - 1 ? (\r\n                <Button type=\"submit\" variant=\"contained\" startIcon={<Save />} disabled={loading || uploading} sx={{ background: 'linear-gradient(135deg, #8B7355 0%, #6B6B5A 100%)', px: 5, py: 1.5, borderRadius: '12px' }}>\r\n                  {loading ? 'Processing...' : isEditMode ? '‚úÖ Update Product' : 'üöÄ Create Product'}\r\n                </Button>\r\n              ) : (\r\n                <Button variant=\"contained\" onClick={handleNext} sx={{ background: 'linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)', px: 5, py: 1.5, borderRadius: '12px' }}>Continue</Button>\r\n              )}\r\n            </Box>\r\n          </Box>\r\n        </form>\r\n      </Paper>\r\n      <Snackbar open={snackbar.open} autoHideDuration={4000} onClose={() => setSnackbar({ ...snackbar, open: false })} anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}>\r\n        <Alert onClose={() => setSnackbar({ ...snackbar, open: false })} severity={snackbar.severity} sx={{ width: '100%', borderRadius: '12px' }}>{snackbar.message}</Alert>\r\n      </Snackbar>\r\n    </Box>\r\n  );\r\n}"],"names":["ProductForm","id","useParams","navigate","useNavigate","isEditMode","loading","setLoading","useState","uploading","setUploading","snackbar","setSnackbar","open","message","severity","activeStep","setActiveStep","name","setName","description","setDescription","price","setPrice","category","setCategory","stock","setStock","imageFile","setImageFile","imagePreview","setImagePreview","brand","setBrand","sku","setSku","isActive","setIsActive","isFeatured","setIsFeatured","categories","value","label","steps","useEffect","fetchProduct","async","data","error","supabase","from","select","eq","single","_data$price","_data$stock","toString","image_url","hasOwnProperty","is_active","is_featured","console","showSnackbar","handleImageChange","e","file","target","files","type","startsWith","size","reader","FileReader","onloadend","result","readAsDataURL","arguments","length","undefined","_jsx","Box","sx","display","justifyContent","alignItems","height","background","children","CircularProgress","color","_jsxs","p","minHeight","Paper","borderRadius","maxWidth","margin","border","boxShadow","mb","Tooltip","title","IconButton","onClick","mr","ArrowBack","Typography","variant","fontWeight","Stepper","map","Step","StepLabel","onSubmit","preventDefault","imageUrl","fileExt","split","pop","fileName","concat","Math","random","substring","Date","now","filePath","uploadError","storage","upload","cacheControl","upsert","publicUrl","getPublicUrl","uploadImage","basicProductData","trim","parseFloat","parseInt","updated_at","toISOString","productDataWithNewColumns","_objectSpread","saveAttempt","update","created_at","insert","includes","log","secondError","setTimeout","step","_categories$find","gutterBottom","gap","LocalOffer","Grid","container","spacing","item","xs","TextField","onChange","fullWidth","required","placeholder","multiline","rows","md","FormControl","InputLabel","Select","MenuItem","cat","Inventory","InputProps","startAdornment","InputAdornment","position","inputProps","min","Divider","my","flexWrap","FormControlLabel","control","Checkbox","checked","CheckCircle","Star","CloudUpload","textAlign","accept","style","htmlFor","Button","component","startIcon","borderColor","px","py","mt","Card","overflow","CardMedia","image","alt","objectFit","CardContent","toFixed","categoryLabel","find","c","Chip","bgcolor","renderStepContent","disabled","handleBack","prev","Save","handleNext","validateCurrentStep","priceNum","isNaN","stockNum","Snackbar","autoHideDuration","onClose","anchorOrigin","vertical","horizontal","Alert","width"],"ignoreList":[],"sourceRoot":""}