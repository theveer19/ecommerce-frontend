{"version":3,"file":"static/js/74.11f060f8.chunk.js","mappings":"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","sources":["components/ProductCard.js","../node_modules/@mui/icons-material/esm/Close.js","components/ProductList.js","../node_modules/@mui/icons-material/esm/Search.js"],"sourcesContent":["import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Box, Typography } from \"@mui/material\";\r\n\r\nexport default function ProductCard({ product, session }) {\r\n  // Check if product exists and has required properties\r\n  if (!product || !product.id) {\r\n    console.error(\"Invalid product data in ProductCard:\", product);\r\n    return null; // Don't render anything if product is invalid\r\n  }\r\n\r\n  return (\r\n    <Link to={`/product/${product.id}`} style={{ textDecoration: 'none' }}>\r\n      <Box sx={styles.card}>\r\n        <Box sx={styles.imageContainer}>\r\n          <img \r\n            src={product.image_url || \"/api/placeholder/400/500\"} \r\n            alt={product.name || \"Product\"}\r\n            style={styles.image}\r\n            onError={(e) => {\r\n              e.target.onerror = null;\r\n              e.target.src = \"/api/placeholder/400/500\";\r\n            }}\r\n          />\r\n          {product.featured && (\r\n            <Box sx={styles.featuredBadge}>\r\n              FEATURED\r\n            </Box>\r\n          )}\r\n        </Box>\r\n        <Box sx={styles.details}>\r\n          <Typography sx={styles.name}>\r\n            {product.name || \"Product Name\"}\r\n          </Typography>\r\n          <Typography sx={styles.price}>\r\n            â‚¹{product.price ? product.price.toLocaleString() : '0'}\r\n          </Typography>\r\n        </Box>\r\n      </Box>\r\n    </Link>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  card: {\r\n    border: '1px solid #f0f0f0',\r\n    transition: 'all 0.2s',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      borderColor: '#000',\r\n    }\r\n  },\r\n  imageContainer: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    paddingBottom: '125%', // 4:5 aspect ratio\r\n    backgroundColor: '#fafafa',\r\n    overflow: 'hidden',\r\n  },\r\n  image: {\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    width: '100%',\r\n    height: '100%',\r\n    objectFit: 'cover',\r\n    transition: 'transform 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.05)',\r\n    }\r\n  },\r\n  featuredBadge: {\r\n    position: 'absolute',\r\n    top: '10px',\r\n    left: '10px',\r\n    backgroundColor: 'black',\r\n    color: 'white',\r\n    fontSize: '10px',\r\n    fontWeight: 700,\r\n    padding: '2px 8px',\r\n    letterSpacing: '1px',\r\n    textTransform: 'uppercase',\r\n  },\r\n  details: {\r\n    padding: '16px',\r\n  },\r\n  name: {\r\n    fontSize: '12px',\r\n    fontWeight: 700,\r\n    color: '#000',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px',\r\n    marginBottom: '4px',\r\n    whiteSpace: 'nowrap',\r\n    overflow: 'hidden',\r\n    textOverflow: 'ellipsis',\r\n  },\r\n  price: {\r\n    fontSize: '14px',\r\n    fontWeight: 700,\r\n    color: '#000',\r\n  },\r\n};","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z\"\n}), 'Close');","import React, { useEffect, useState, useMemo } from \"react\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport { supabase } from \"../supabase/supabaseClient\";\r\nimport ProductCard from \"./ProductCard\";\r\nimport { \r\n  Box, Container, Typography, IconButton, \r\n  CircularProgress, Collapse \r\n} from \"@mui/material\";\r\nimport { Search, Close } from \"@mui/icons-material\";\r\n\r\nexport default function ProductList({ session }) {\r\n  const [products, setProducts] = useState([]);\r\n  const [filteredProducts, setFilteredProducts] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  \r\n  // Filter States\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedCategory, setSelectedCategory] = useState('all');\r\n  const [sortBy, setSortBy] = useState('newest');\r\n  const [showSearch, setShowSearch] = useState(false);\r\n  \r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const categories = useMemo(() => [\r\n    'all', 'T-Shirts', 'Hoodies', 'Pants', 'Jackets', 'Accessories'\r\n  ], []);\r\n\r\n  // Parse URL parameters on load\r\n  useEffect(() => {\r\n    const params = new URLSearchParams(location.search);\r\n    const searchParam = params.get('search');\r\n    const categoryParam = params.get('cat');\r\n    const sortParam = params.get('sort');\r\n    \r\n    if (searchParam) setSearchTerm(searchParam);\r\n    if (categoryParam) setSelectedCategory(categoryParam);\r\n    if (sortParam) setSortBy(sortParam === 'new' ? 'newest' : sortParam);\r\n  }, [location.search]);\r\n\r\n  // --- FETCHING ---\r\n  useEffect(() => {\r\n    const fetchProducts = async () => {\r\n      setLoading(true);\r\n      const { data } = await supabase.from(\"products\").select(\"*\").order(\"created_at\", { ascending: false });\r\n      if (data) {\r\n        setProducts(data);\r\n        setFilteredProducts(data);\r\n      }\r\n      setLoading(false);\r\n    };\r\n    fetchProducts();\r\n  }, []);\r\n\r\n  // --- FILTERING ---\r\n  useEffect(() => {\r\n    let result = [...products];\r\n    \r\n    if (searchTerm) {\r\n      result = result.filter(p => \r\n        p.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        (p.category && p.category.toLowerCase().includes(searchTerm.toLowerCase()))\r\n      );\r\n    }\r\n    \r\n    if (selectedCategory !== 'all') {\r\n      result = result.filter(p => \r\n        p.category?.toLowerCase() === selectedCategory.toLowerCase() ||\r\n        (selectedCategory === 'tshirts' && p.category?.toLowerCase().includes('t-shirt')) ||\r\n        (selectedCategory === 'hoodies' && p.category?.toLowerCase().includes('hoodie')) ||\r\n        (selectedCategory === 'pants' && p.category?.toLowerCase().includes('pant'))\r\n      );\r\n    }\r\n    \r\n    if (sortBy === 'price-low') result.sort((a, b) => a.price - b.price);\r\n    else if (sortBy === 'price-high') result.sort((a, b) => b.price - a.price);\r\n    else if (sortBy === 'newest') result.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\r\n    \r\n    setFilteredProducts(result);\r\n  }, [searchTerm, selectedCategory, sortBy, products]);\r\n\r\n  // Sync URL\r\n  useEffect(() => {\r\n    const params = new URLSearchParams();\r\n    if (searchTerm) params.set('search', searchTerm);\r\n    if (selectedCategory !== 'all') params.set('cat', selectedCategory);\r\n    if (sortBy !== 'newest') params.set('sort', sortBy);\r\n    const queryString = params.toString();\r\n    navigate(`/products${queryString ? '?' + queryString : ''}`, { replace: true });\r\n  }, [searchTerm, selectedCategory, sortBy, navigate]);\r\n\r\n  const handleCategoryClick = (category) => setSelectedCategory(category);\r\n  const handleSearchChange = (value) => {\r\n    setSearchTerm(value);\r\n    if (value && !showSearch) setShowSearch(true);\r\n  };\r\n  const clearSearch = () => { setSearchTerm(''); setShowSearch(false); };\r\n\r\n  if (loading) return (\r\n    <Box sx={{ height: '100vh', display: 'flex', justifyContent: 'center', alignItems: 'center', bgcolor: 'white' }}>\r\n      <CircularProgress size={30} thickness={3} sx={{ color: 'black' }} />\r\n    </Box>\r\n  );\r\n\r\n  return (\r\n    <Box sx={{ bgcolor: '#FFFFFF', minHeight: '100vh' }}>\r\n      \r\n      {/* 1. COMPACT HEADER (No Product Count) */}\r\n      <Box sx={styles.pageHeader}>\r\n        <Container maxWidth=\"xl\">\r\n          <Typography sx={styles.collectionTitle}>\r\n            {searchTerm ? `SEARCH: \"${searchTerm}\"` : selectedCategory === 'all' ? 'LATEST DROP' : selectedCategory.toUpperCase()}\r\n          </Typography>\r\n        </Container>\r\n      </Box>\r\n\r\n      {/* 2. COMPACT UTILITY BAR */}\r\n      <Box sx={styles.stickyBarWrapper}>\r\n        <Box sx={styles.stickyBar}>\r\n          <Container maxWidth=\"xl\" sx={{ height: '100%', px: { xs: 2, md: 4 } }}>\r\n            <div style={styles.barFlex}>\r\n              \r\n              {/* Categories */}\r\n              <div style={styles.categoriesWrapper}>\r\n                 {categories.map((cat) => (\r\n                   <button\r\n                     key={cat}\r\n                     onClick={() => handleCategoryClick(cat.toLowerCase())}\r\n                     style={{\r\n                       ...styles.catBtn,\r\n                       opacity: selectedCategory === cat.toLowerCase() ? 1 : 0.4,\r\n                       fontWeight: selectedCategory === cat.toLowerCase() ? 800 : 600,\r\n                       borderBottom: selectedCategory === cat.toLowerCase() ? '2px solid black' : 'none'\r\n                     }}\r\n                   >\r\n                     {cat.toUpperCase()}\r\n                   </button>\r\n                 ))}\r\n              </div>\r\n\r\n              {/* Tools */}\r\n              <div style={styles.actionsWrapper}>\r\n                 <div style={styles.searchContainer}>\r\n                   <Collapse in={showSearch || searchTerm} orientation=\"horizontal\">\r\n                     <input \r\n                       autoFocus\r\n                       placeholder=\"SEARCH...\" \r\n                       value={searchTerm}\r\n                       onChange={(e) => handleSearchChange(e.target.value)}\r\n                       style={styles.minimalInput}\r\n                     />\r\n                   </Collapse>\r\n                   <IconButton \r\n                     onClick={() => { if (searchTerm) clearSearch(); else setShowSearch(!showSearch); }} \r\n                     sx={{ color: 'black', p: 0.5 }}\r\n                   >\r\n                      {searchTerm || showSearch ? <Close sx={{ fontSize: 16 }} /> : <Search sx={{ fontSize: 16 }} />}\r\n                   </IconButton>\r\n                 </div>\r\n\r\n                 <select \r\n                   value={sortBy} \r\n                   onChange={(e) => setSortBy(e.target.value)}\r\n                   style={styles.minimalSelect}\r\n                 >\r\n                   <option value=\"newest\">NEWEST</option>\r\n                   <option value=\"price-low\">LOW PRICE</option>\r\n                   <option value=\"price-high\">HIGH PRICE</option>\r\n                 </select>\r\n              </div>\r\n            </div>\r\n          </Container>\r\n        </Box>\r\n      </Box>\r\n\r\n      {/* 3. STRICT 4-COLUMN GRID LAYOUT */}\r\n      <Container maxWidth=\"xl\" sx={{ px: { xs: 2, md: 4 }, pb: 10 }}>\r\n        {filteredProducts.length === 0 ? (\r\n            <Box sx={{ textAlign: 'center', py: 10 }}>\r\n                <Typography sx={{ fontWeight: 800, fontSize: '12px', color: '#999', letterSpacing: '1px' }}>\r\n                  NO PRODUCTS FOUND\r\n                </Typography>\r\n            </Box>\r\n        ) : (\r\n            // USE CSS GRID TO FORCE 4 COLUMNS\r\n            <Box sx={{\r\n              display: 'grid',\r\n              gridTemplateColumns: {\r\n                xs: 'repeat(2, 1fr)', // 2 columns on mobile\r\n                sm: 'repeat(3, 1fr)', // 3 columns on tablet\r\n                md: 'repeat(4, 1fr)', // 4 columns on desktop\r\n                lg: 'repeat(4, 1fr)'  // Force 4 columns on large screens\r\n              },\r\n              gap: '10px', // Tight spacing\r\n              width: '100%'\r\n            }}>\r\n                {filteredProducts.map((product) => (\r\n                  <ProductCard key={product.id} product={product} session={session} />\r\n                ))}\r\n            </Box>\r\n        )}\r\n      </Container>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst styles = {\r\n  pageHeader: {\r\n    pt: 10,\r\n    pb: 3,\r\n    textAlign: 'center',\r\n    textTransform: 'uppercase',\r\n  },\r\n  collectionTitle: {\r\n    fontSize: { xs: '20px', md: '28px' }, // Compact, sharp font size\r\n    fontWeight: 900,\r\n    letterSpacing: '-0.5px',\r\n    color: '#000',\r\n    mb: 0.5,\r\n    lineHeight: 1,\r\n  },\r\n  stickyBarWrapper: {\r\n    position: 'sticky',\r\n    top: '75px', \r\n    zIndex: 90,\r\n    mb: 4,\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  stickyBar: {\r\n    width: '100%',\r\n    backdropFilter: 'blur(12px)',\r\n    backgroundColor: 'rgba(255,255,255,0.95)',\r\n    borderBottom: '1px solid #f0f0f0',\r\n    height: '45px',\r\n  },\r\n  barFlex: {\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    height: '100%',\r\n  },\r\n  categoriesWrapper: {\r\n    display: 'flex',\r\n    gap: '20px',\r\n    overflowX: 'auto',\r\n    scrollbarWidth: 'none',\r\n    height: '100%',\r\n    alignItems: 'center',\r\n  },\r\n  catBtn: {\r\n    background: 'none',\r\n    border: 'none',\r\n    fontSize: '10px', // Small tech font\r\n    cursor: 'pointer',\r\n    padding: '13px 0',\r\n    whiteSpace: 'nowrap',\r\n    letterSpacing: '0.5px',\r\n    fontFamily: 'inherit',\r\n    transition: 'opacity 0.2s',\r\n  },\r\n  actionsWrapper: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: '20px',\r\n  },\r\n  searchContainer: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    borderRight: '1px solid #eee',\r\n    paddingRight: '10px',\r\n  },\r\n  minimalInput: {\r\n    border: 'none',\r\n    borderBottom: '1px solid #000',\r\n    outline: 'none',\r\n    fontSize: '11px',\r\n    fontWeight: 600,\r\n    width: '120px',\r\n    marginRight: '8px',\r\n    background: 'transparent',\r\n    textTransform: 'uppercase',\r\n    fontFamily: 'inherit',\r\n    paddingBottom: '2px',\r\n  },\r\n  minimalSelect: {\r\n    border: 'none',\r\n    outline: 'none',\r\n    fontSize: '10px',\r\n    fontWeight: 800,\r\n    background: 'transparent',\r\n    cursor: 'pointer',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px',\r\n    fontFamily: 'inherit',\r\n    textAlign: 'right',\r\n  },\r\n};","\"use client\";\n\nimport createSvgIcon from \"./utils/createSvgIcon.js\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon(/*#__PURE__*/_jsx(\"path\", {\n  d: \"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14\"\n}), 'Search');"],"names":["ProductCard","_ref","product","session","id","_jsx","Link","to","concat","style","textDecoration","children","_jsxs","Box","sx","styles","card","imageContainer","src","image_url","alt","name","image","onError","e","target","onerror","featured","featuredBadge","details","Typography","price","toLocaleString","console","error","border","transition","cursor","borderColor","position","width","paddingBottom","backgroundColor","overflow","top","left","height","objectFit","transform","color","fontSize","fontWeight","padding","letterSpacing","textTransform","marginBottom","whiteSpace","textOverflow","createSvgIcon","d","ProductList","products","setProducts","useState","filteredProducts","setFilteredProducts","loading","setLoading","searchTerm","setSearchTerm","selectedCategory","setSelectedCategory","sortBy","setSortBy","showSearch","setShowSearch","navigate","useNavigate","location","useLocation","categories","useMemo","useEffect","params","URLSearchParams","search","searchParam","get","categoryParam","sortParam","async","data","supabase","from","select","order","ascending","fetchProducts","result","filter","p","toLowerCase","includes","category","_p$category","_p$category2","_p$category3","_p$category4","sort","a","b","Date","created_at","set","queryString","toString","replace","display","justifyContent","alignItems","bgcolor","CircularProgress","size","thickness","minHeight","pageHeader","Container","maxWidth","collectionTitle","toUpperCase","stickyBarWrapper","stickyBar","px","xs","md","barFlex","categoriesWrapper","map","cat","onClick","handleCategoryClick","_objectSpread","catBtn","opacity","borderBottom","actionsWrapper","searchContainer","Collapse","in","orientation","autoFocus","placeholder","value","onChange","handleSearchChange","minimalInput","IconButton","Close","Search","minimalSelect","pb","length","textAlign","py","gridTemplateColumns","sm","lg","gap","pt","mb","lineHeight","zIndex","backdropFilter","overflowX","scrollbarWidth","background","fontFamily","borderRight","paddingRight","outline","marginRight"],"ignoreList":[],"sourceRoot":""}