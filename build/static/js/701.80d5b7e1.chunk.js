"use strict";(self.webpackChunkmy_ecommerce_frontend=self.webpackChunkmy_ecommerce_frontend||[]).push([[701],{102(e,r,t){t.d(r,{A:()=>a});var o=t(4057),s=t(579);const a=(0,o.A)((0,s.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer")},1244(e,r,t){t.d(r,{A:()=>A});var o=t(9379),s=t(45),a=t(5043),i=t(8387),n=t(1807),c=t(8128),d=t(8301),l=t(4799),x=t(9857),u=t(6061);function h(e){return(0,u.Ay)("MuiCard",e)}(0,x.A)("MuiCard",["root"]);var p=t(579);const m=["className","raised"],g=(0,c.Ay)(l.A,{name:"MuiCard",slot:"Root"})({overflow:"hidden"}),A=a.forwardRef(function(e,r){const t=(0,d.b)({props:e,name:"MuiCard"}),{className:a,raised:c=!1}=t,l=(0,s.A)(t,m),x=(0,o.A)((0,o.A)({},t),{},{raised:c}),u=(e=>{const{classes:r}=e;return(0,n.A)({root:["root"]},h,r)})(x);return(0,p.jsx)(g,(0,o.A)({className:(0,i.A)(u.root,a),elevation:c?8:void 0,ref:r,ownerState:x},l))})},1977(e,r,t){t.d(r,{A:()=>i,b:()=>a});var o=t(9857),s=t(6061);function a(e){return(0,s.Ay)("MuiListItemText",e)}const i=(0,o.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"])},3201(e,r,t){t.d(r,{A:()=>a});var o=t(4057),s=t(579);const a=(0,o.A)((0,s.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},6057(e,r,t){t.d(r,{A:()=>i,f:()=>a});var o=t(9857),s=t(6061);function a(e){return(0,s.Ay)("MuiListItemIcon",e)}const i=(0,o.A)("MuiListItemIcon",["root","alignItemsFlexStart"])},6128(e,r,t){t.d(r,{A:()=>g});var o=t(9379),s=t(45),a=t(5043),i=t(8387),n=t(1807),c=t(8128),d=t(8301),l=t(9857),x=t(6061);function u(e){return(0,x.Ay)("MuiCardContent",e)}(0,l.A)("MuiCardContent",["root"]);var h=t(579);const p=["className","component"],m=(0,c.Ay)("div",{name:"MuiCardContent",slot:"Root"})({padding:16,"&:last-child":{paddingBottom:24}}),g=a.forwardRef(function(e,r){const t=(0,d.b)({props:e,name:"MuiCardContent"}),{className:a,component:c="div"}=t,l=(0,s.A)(t,p),x=(0,o.A)((0,o.A)({},t),{},{component:c}),g=(e=>{const{classes:r}=e;return(0,n.A)({root:["root"]},u,r)})(x);return(0,h.jsx)(m,(0,o.A)({as:c,className:(0,i.A)(g.root,a),ownerState:x,ref:r},l))})},6245(e,r,t){t.d(r,{A:()=>a});var o=t(4057),s=t(579);const a=(0,o.A)((0,s.jsx)("path",{d:"M20 2H4c-1 0-2 .9-2 2v3.01c0 .72.43 1.34 1 1.69V20c0 1.1 1.1 2 2 2h14c.9 0 2-.9 2-2V8.7c.57-.35 1-.97 1-1.69V4c0-1.1-1-2-2-2m-5 12H9v-2h6zm5-7H4V4l16-.02z"}),"Inventory")},8309(e,r,t){t.r(r),t.d(r,{default:()=>U});var o=t(9379),s=t(5043),a=t(5685),i=t(2720),n=t(3969),c=t(5895),d=t(3089),l=t(4343),x=t(256),u=t(3353),h=t(183),p=t(7471),m=t(3699),g=t(4527),A=t(1725),b=t(8865),j=t(2097),f=t(1244),v=t(8578),y=t(6128),w=t(3759),B=t(172),S=t(4799),C=t(6529),I=t(2579),k=t(3407),F=t(9693),P=t(9147),E=t(916),M=t(6803),N=t(102),R=t(6245),W=t(3201),_=t(4057),z=t(579);const D=(0,_.A)((0,z.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Star"),O=(0,_.A)((0,z.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");var q=t(8315);const L=(0,_.A)((0,z.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3m3-10H5V5h10z"}),"Save");function U(){const{id:e}=(0,a.g)(),r=(0,a.Zp)(),t=!!e,[_,U]=(0,s.useState)(!1),[H,T]=(0,s.useState)(!1),[V,K]=(0,s.useState)({open:!1,message:"",severity:"success"}),[Y,Q]=(0,s.useState)(0),[X,Z]=(0,s.useState)(""),[G,J]=(0,s.useState)(""),[$,ee]=(0,s.useState)(""),[re,te]=(0,s.useState)(""),[oe,se]=(0,s.useState)("0"),[ae,ie]=(0,s.useState)(null),[ne,ce]=(0,s.useState)(""),[de,le]=(0,s.useState)(""),[xe,ue]=(0,s.useState)(""),[he,pe]=(0,s.useState)(!0),[me,ge]=(0,s.useState)(!1),Ae=["Electronics","Fashion","Home & Kitchen","Books","Sports","Beauty","Toys","Other"],be=["Basic Info","Pricing & Stock","Image","Review"];(0,s.useEffect)(()=>{t&&je()},[e]);const je=async()=>{U(!0);try{const{data:o,error:s}=await i.N.from("products").select("*").eq("id",e).single();if(s)throw s;var r,t;if(o)Z(o.name||""),J(o.description||""),ee((null===(r=o.price)||void 0===r?void 0:r.toString())||""),te(o.category||""),se((null===(t=o.stock)||void 0===t?void 0:t.toString())||"0"),ce(o.image_url||""),le(o.brand||""),ue(o.sku||""),o.hasOwnProperty("is_active")&&pe(!1!==o.is_active),o.hasOwnProperty("is_featured")&&ge(o.is_featured||!1)}catch(o){console.error("Error fetching product:",o),ve("Error loading product","error")}finally{U(!1)}},fe=e=>{const r=e.target.files[0];if(r){if(!r.type.startsWith("image/"))return void ve("Please select an image file","error");if(r.size>5242880)return void ve("Image size should be less than 5MB","error");ie(r);const e=new FileReader;e.onloadend=()=>ce(e.result),e.readAsDataURL(r)}},ve=function(e){K({open:!0,message:e,severity:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"})};return _&&t?(0,z.jsx)(n.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",background:"#F5F1E8"},children:(0,z.jsx)(B.A,{sx:{color:"#8B7355"}})}):(0,z.jsxs)(n.A,{sx:{p:3,background:"#F5F1E8",minHeight:"100vh"},children:[(0,z.jsxs)(S.A,{sx:{p:3,borderRadius:"20px",maxWidth:1200,margin:"0 auto",border:"1px solid rgba(139, 115, 85, 0.2)",boxShadow:"0 8px 32px rgba(0,0,0,0.05)"},children:[(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",mb:4},children:[(0,z.jsx)(C.A,{title:"Back to Dashboard",children:(0,z.jsx)(I.A,{onClick:()=>r("/admin"),sx:{mr:2,color:"#8B7355",background:"rgba(139, 115, 85, 0.1)","&:hover":{background:"rgba(139, 115, 85, 0.2)",transform:"translateX(-2px)"}},children:(0,z.jsx)(q.A,{})})}),(0,z.jsxs)(n.A,{children:[(0,z.jsx)(c.A,{variant:"h4",sx:{fontWeight:800,color:"#4A4A3A"},children:t?"\u270f\ufe0f Edit Product":"\ud83d\ude80 Add New Product"}),(0,z.jsx)(c.A,{variant:"body1",sx:{color:"#6B6B5A"},children:t?"Editing: ".concat(X||"Product"):"Create a new product listing for your store"})]})]}),(0,z.jsx)(k.A,{activeStep:Y,sx:{mb:4,"& .MuiStepLabel-root .Mui-active":{color:"#8B7355"},"& .MuiStepLabel-root .Mui-completed":{color:"#22C55E"}},children:be.map(e=>(0,z.jsx)(F.A,{children:(0,z.jsx)(P.A,{children:e})},e))}),(0,z.jsxs)("form",{onSubmit:async s=>{s.preventDefault(),console.log("Submitting form..."),U(!0);try{if(!X.trim())return ve("Product name is required","error"),void U(!1);if(!$)return ve("Price is required","error"),void U(!1);const s=parseFloat($);if(isNaN(s)||s<=0)return ve("Price must be greater than 0","error"),void U(!1);if(!re)return ve("Category is required","error"),void U(!1);const n=parseInt(oe);if(isNaN(n)||n<0)return ve("Stock must be 0 or greater","error"),void U(!1);let c=ne;if(ae)try{c=await(async e=>{try{T(!0);const r=e.name.split(".").pop(),t="".concat(Math.random().toString(36).substring(2),"_").concat(Date.now(),".").concat(r),o="products/".concat(t),{error:s}=await i.N.storage.from("product-images").upload(o,e,{cacheControl:"3600",upsert:!1});if(s)throw s;const{data:{publicUrl:a}}=i.N.storage.from("product-images").getPublicUrl(o);return a}catch(r){throw console.error("Upload error:",r),r}finally{T(!1)}})(ae)}catch(a){console.error("Image upload failed:",a),ne||(c="https://via.placeholder.com/400x300?text=Product+Image")}const d={name:X.trim(),description:G.trim(),price:parseFloat($),category:re,stock:parseInt(oe)||0,image_url:c,brand:de.trim()||null,sku:xe.trim()||"SKU-".concat(Date.now()),updated_at:(new Date).toISOString()},l=(0,o.A)((0,o.A)({},d),{},{is_active:he,is_featured:me});let x;console.log("Saving product data:",l);let u=1;try{t?x=await i.N.from("products").update(l).eq("id",e):(l.created_at=(new Date).toISOString(),x=await i.N.from("products").insert([l]));const{error:r}=x;if(r){if(!r.message.includes("is_active")&&!r.message.includes("is_featured"))throw r;{console.log("New columns not found in schema, trying without them..."),u=2,t?x=await i.N.from("products").update(d).eq("id",e):(d.created_at=(new Date).toISOString(),x=await i.N.from("products").insert([d]));const{error:r}=x;if(r)throw r;ve("Product ".concat(t?"updated":"created"," successfully! (Note: Active/Featured flags not saved)"),"warning")}}else ve("Product ".concat(t?"updated":"created"," successfully!"),"success")}catch(a){throw console.error("Save attempt ".concat(u," failed:"),a),a}setTimeout(()=>r("/admin"),1500)}catch(a){console.error("Error in form submission:",a),ve("Failed to ".concat(t?"update":"create"," product: ").concat(a.message),"error")}finally{U(!1)}},children:[(e=>{switch(e){case 0:return(0,z.jsxs)(n.A,{sx:{p:3},children:[(0,z.jsxs)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#8B7355",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(N.A,{}),"Basic Information"]}),(0,z.jsxs)(d.A,{container:!0,spacing:3,children:[(0,z.jsx)(d.A,{item:!0,xs:12,children:(0,z.jsx)(l.A,{label:"Product Name *",value:X,onChange:e=>Z(e.target.value),fullWidth:!0,required:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}},placeholder:"Enter product name",helperText:"Required field"})}),(0,z.jsx)(d.A,{item:!0,xs:12,children:(0,z.jsx)(l.A,{label:"Description",value:G,onChange:e=>J(e.target.value),fullWidth:!0,multiline:!0,rows:4,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}},placeholder:"Enter product description"})}),(0,z.jsx)(d.A,{item:!0,xs:12,md:6,children:(0,z.jsxs)(x.A,{fullWidth:!0,required:!0,sx:{mb:2},children:[(0,z.jsx)(u.A,{children:"Category *"}),(0,z.jsxs)(h.A,{value:re,onChange:e=>te(e.target.value),label:"Category *",sx:{borderRadius:"12px"},children:[(0,z.jsx)(p.A,{value:"",children:(0,z.jsx)("em",{children:"Select a category"})}),Ae.map(e=>(0,z.jsx)(p.A,{value:e,children:e},e))]})]})}),(0,z.jsx)(d.A,{item:!0,xs:12,md:6,children:(0,z.jsx)(l.A,{label:"Brand",value:de,onChange:e=>le(e.target.value),fullWidth:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}},placeholder:"Enter brand name"})})]})]});case 1:return(0,z.jsxs)(n.A,{sx:{p:3},children:[(0,z.jsxs)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#8B7355",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(R.A,{}),"Pricing & Inventory"]}),(0,z.jsxs)(d.A,{container:!0,spacing:3,children:[(0,z.jsx)(d.A,{item:!0,xs:12,md:6,children:(0,z.jsx)(l.A,{label:"Price *",type:"number",value:$,onChange:e=>ee(e.target.value),fullWidth:!0,required:!0,InputProps:{startAdornment:(0,z.jsx)(m.A,{position:"start",children:"\u20b9"}),inputProps:{min:0,step:.01}},sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}},helperText:"Required field"})}),(0,z.jsx)(d.A,{item:!0,xs:12,md:6,children:(0,z.jsx)(l.A,{label:"Stock Quantity",type:"number",value:oe,onChange:e=>se(e.target.value),fullWidth:!0,InputProps:{inputProps:{min:0}},sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}}})}),(0,z.jsx)(d.A,{item:!0,xs:12,md:6,children:(0,z.jsx)(l.A,{label:"SKU",value:xe,onChange:e=>ue(e.target.value),fullWidth:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{borderRadius:"12px"}},placeholder:"Auto-generated if empty"})}),(0,z.jsxs)(d.A,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{sx:{my:2}}),(0,z.jsx)(c.A,{variant:"subtitle1",sx:{color:"#6B6B5A",mb:2,fontWeight:600},children:"Product Status"}),(0,z.jsxs)(n.A,{sx:{display:"flex",gap:4,flexWrap:"wrap"},children:[(0,z.jsx)(A.A,{control:(0,z.jsx)(b.A,{checked:he,onChange:e=>pe(e.target.checked),color:"primary",sx:{"&.Mui-checked":{color:"#8B7355"}}}),label:(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(W.A,{sx:{color:he?"#22C55E":"#9CA3AF"}}),(0,z.jsx)(c.A,{children:"Active Product"})]})}),(0,z.jsx)(A.A,{control:(0,z.jsx)(b.A,{checked:me,onChange:e=>ge(e.target.checked),color:"primary",sx:{"&.Mui-checked":{color:"#8B7355"}}}),label:(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(D,{sx:{color:me?"#FFD700":"#9CA3AF"}}),(0,z.jsx)(c.A,{children:"Featured Product"})]})})]}),(0,z.jsx)(c.A,{variant:"caption",sx:{color:"#6B7280",display:"block",mt:1},children:"Active products are visible to customers. Featured products appear on the homepage."})]})]})]});case 2:return(0,z.jsxs)(n.A,{sx:{p:3},children:[(0,z.jsxs)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#8B7355",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(O,{}),"Product Image"]}),(0,z.jsxs)(n.A,{sx:{textAlign:"center"},children:[(0,z.jsx)("input",{accept:"image/*",style:{display:"none"},id:"image-upload",type:"file",onChange:fe}),(0,z.jsx)("label",{htmlFor:"image-upload",children:(0,z.jsx)(j.A,{variant:"outlined",component:"span",startIcon:(0,z.jsx)(O,{}),sx:{mb:3,borderColor:"#8B7355",color:"#8B7355",borderRadius:"12px",px:4,py:1.5,"&:hover":{borderColor:"#755F47",background:"rgba(139, 115, 85, 0.05)"}},children:H?"Uploading...":"Choose Image"})}),ne&&(0,z.jsxs)(n.A,{sx:{mt:2},children:[(0,z.jsx)(c.A,{variant:"subtitle2",sx:{mb:2,color:"#4A4A3A",fontWeight:600},children:"Image Preview:"}),(0,z.jsxs)(f.A,{sx:{maxWidth:300,margin:"0 auto",borderRadius:"16px",overflow:"hidden",boxShadow:"0 8px 24px rgba(0,0,0,0.1)"},children:[(0,z.jsx)(v.A,{component:"img",image:ne,alt:"Preview",sx:{height:200,objectFit:"cover"}}),(0,z.jsx)(y.A,{children:ae&&(0,z.jsxs)(c.A,{variant:"caption",sx:{display:"block",color:"text.secondary"},children:[ae.name," (",(ae.size/1024).toFixed(1)," KB)"]})})]})]}),!ne&&!H&&(0,z.jsxs)(n.A,{sx:{mt:3,p:4,border:"2px dashed #E5E7EB",borderRadius:"16px",background:"#F9FAFB"},children:[(0,z.jsx)(O,{sx:{fontSize:48,color:"#9CA3AF",mb:2}}),(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280"},children:"No image selected. Click the button above to upload."})]})]})]});case 3:return(0,z.jsxs)(n.A,{sx:{p:3},children:[(0,z.jsxs)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#8B7355",fontWeight:600,display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(W.A,{}),"Review & Submit"]}),(0,z.jsxs)(d.A,{container:!0,spacing:3,children:[(0,z.jsx)(d.A,{item:!0,xs:12,md:8,children:(0,z.jsx)(f.A,{sx:{mb:3,borderRadius:"16px",border:"1px solid rgba(139, 115, 85, 0.2)",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:(0,z.jsxs)(y.A,{children:[(0,z.jsx)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#4A4A3A"},children:"Product Summary"}),(0,z.jsxs)(d.A,{container:!0,spacing:2,children:[(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Name:"}),(0,z.jsx)(c.A,{variant:"body1",fontWeight:600,children:X||"Not specified"})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Price:"}),(0,z.jsxs)(c.A,{variant:"body1",fontWeight:600,color:"#8B7355",children:["\u20b9",$||"0.00"]})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Category:"}),(0,z.jsx)(w.A,{label:re||"Not specified",size:"small",sx:{background:"rgba(139, 115, 85, 0.1)",color:"#8B7355",fontWeight:500}})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Stock:"}),(0,z.jsxs)(c.A,{variant:"body1",sx:{fontWeight:600,color:parseInt(oe)<10?"#EF4444":parseInt(oe)<30?"#F59E0B":"#22C55E"},children:[oe," units"]})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Brand:"}),(0,z.jsx)(c.A,{variant:"body1",children:de||"Not specified"})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"SKU:"}),(0,z.jsx)(c.A,{variant:"body1",sx:{fontFamily:"monospace"},children:xe||"Auto-generated"})]}),(0,z.jsxs)(d.A,{item:!0,xs:6,children:[(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Status:"}),(0,z.jsxs)(n.A,{sx:{display:"flex",gap:1},children:[(0,z.jsx)(w.A,{label:he?"Active":"Inactive",size:"small",sx:{background:he?"#22C55E15":"#EF444415",color:he?"#22C55E":"#EF4444",fontWeight:500}}),me&&(0,z.jsx)(w.A,{label:"Featured",size:"small",sx:{background:"#FFD70015",color:"#B45309",fontWeight:500}})]})]}),G&&(0,z.jsxs)(d.A,{item:!0,xs:12,children:[(0,z.jsx)(g.A,{sx:{my:1}}),(0,z.jsx)(c.A,{variant:"body2",sx:{color:"#6B7280",mb:.5},children:"Description:"}),(0,z.jsxs)(c.A,{variant:"body2",sx:{color:"#4A4A3A",lineHeight:1.6},children:[G.substring(0,150),"..."]})]})]})]})})}),(0,z.jsx)(d.A,{item:!0,xs:12,md:4,children:(0,z.jsx)(f.A,{sx:{borderRadius:"16px",border:"1px solid rgba(139, 115, 85, 0.2)",boxShadow:"0 4px 20px rgba(0,0,0,0.05)"},children:(0,z.jsxs)(y.A,{children:[(0,z.jsx)(c.A,{variant:"h6",gutterBottom:!0,sx:{color:"#4A4A3A"},children:"Image Preview"}),ne?(0,z.jsx)(v.A,{component:"img",image:ne,alt:"Product",sx:{borderRadius:"12px",mb:2,height:200,objectFit:"cover",border:"1px solid rgba(139, 115, 85, 0.2)"}}):(0,z.jsx)(n.A,{sx:{height:200,bgcolor:"#F5F1E8",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"12px",mb:2,border:"1px dashed rgba(139, 115, 85, 0.3)"},children:(0,z.jsx)(c.A,{variant:"body2",color:"#8B7355",children:"No image uploaded"})})]})})})]}),(0,z.jsxs)(n.A,{sx:{mt:3,p:3,bgcolor:"#F5F1E8",borderRadius:"16px",border:"1px solid rgba(139, 115, 85, 0.2)"},children:[(0,z.jsxs)(c.A,{variant:"body2",sx:{color:"#8B7355",mb:1,fontWeight:600},children:["\u26a1 Ready to ",t?"Update":"Publish","!"]}),(0,z.jsxs)(c.A,{variant:"body2",sx:{color:"#6B7280"},children:["Review all information before submitting. The product will be ",t?"updated in":"added to"," your store."]}),(0,z.jsx)(c.A,{variant:"caption",sx:{color:"#6B7280",display:"block",mt:1,fontStyle:"italic"},children:"Note: If you see a warning about columns, the Active/Featured status might not be saved yet. This will be fixed automatically when the database updates."})]})]});default:return null}})(Y),(0,z.jsxs)(n.A,{sx:{display:"flex",justifyContent:"space-between",mt:4},children:[(0,z.jsx)(j.A,{disabled:0===Y||_,onClick:()=>{Q(e=>e-1)},sx:{color:"#6B6B5A",fontWeight:600,"&:hover":{background:"rgba(139, 115, 85, 0.1)",color:"#8B7355"}},children:"Back"}),(0,z.jsx)(n.A,{children:Y===be.length-1?(0,z.jsx)(j.A,{type:"submit",variant:"contained",startIcon:(0,z.jsx)(L,{}),disabled:_||H,sx:{background:"linear-gradient(135deg, #8B7355 0%, #6B6B5A 100%)",color:"white",px:5,py:1.5,fontWeight:700,borderRadius:"12px",boxShadow:"0 4px 14px rgba(139, 115, 85, 0.4)","&:hover":{background:"linear-gradient(135deg, #755F47 0%, #4A4A3A 100%)",transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(139, 115, 85, 0.5)"},"&.Mui-disabled":{background:"linear-gradient(135deg, #C4B5A0 0%, #A5A592 100%)",color:"#E5E7EB"}},children:_?(0,z.jsxs)(n.A,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(B.A,{size:20,color:"inherit"}),t?"Updating...":"Creating..."]}):H?"Uploading Image...":t?"\u2705 Update Product":"\ud83d\ude80 Create Product"}):(0,z.jsx)(j.A,{variant:"contained",onClick:()=>{console.log("Next clicked, current step:",Y),(()=>{switch(console.log("Validating step:",Y),Y){case 0:return X.trim()?!!re||(ve("Please select a category","error"),!1):(ve("Product name is required","error"),!1);case 1:if(!$)return ve("Price is required","error"),!1;const e=parseFloat($);if(isNaN(e)||e<=0)return ve("Price must be greater than 0","error"),!1;const r=parseInt(oe);return!(isNaN(r)||r<0)||(ve("Stock must be 0 or greater","error"),!1);case 2:return!(!ne&&!ae)||(ve("Please upload a product image","error"),!1);default:return!0}})()&&Q(e=>e+1)},sx:{background:"linear-gradient(135deg, #3B82F6 0%, #1D4ED8 100%)",color:"white",px:5,py:1.5,fontWeight:700,borderRadius:"12px",boxShadow:"0 4px 14px rgba(59, 130, 246, 0.4)","&:hover":{background:"linear-gradient(135deg, #2563EB 0%, #1E40AF 100%)",transform:"translateY(-2px)",boxShadow:"0 6px 20px rgba(59, 130, 246, 0.5)"}},children:"Continue"})})]})]})]}),(0,z.jsx)(E.A,{open:V.open,autoHideDuration:4e3,onClose:()=>K((0,o.A)((0,o.A)({},V),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,z.jsx)(M.A,{onClose:()=>K((0,o.A)((0,o.A)({},V),{},{open:!1})),severity:V.severity,sx:{width:"100%",background:"white",color:"#4A4A3A",boxShadow:"0 8px 24px rgba(0,0,0,0.1)",borderRadius:"12px",border:"1px solid rgba(139, 115, 85, 0.2)","& .MuiAlert-icon":{color:"success"===V.severity?"#22C55E":"warning"===V.severity?"#F59E0B":"#EF4444"}},children:V.message})})]})}}}]);
//# sourceMappingURL=701.80d5b7e1.chunk.js.map