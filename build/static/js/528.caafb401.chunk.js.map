{"version":3,"file":"static/js/528.caafb401.chunk.js","mappings":"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","sources":["pages/CheckoutPage.js"],"sourcesContent":["import React, { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport { useCart } from \"../context/CartContext\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\nimport { supabase } from \"../supabase/supabaseClient\";\r\nimport {\r\n  Box,\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n  Typography,\r\n  TextField,\r\n  Paper,\r\n  Grid,\r\n  FormControl,\r\n  FormLabel,\r\n  RadioGroup,\r\n  FormControlLabel,\r\n  Radio,\r\n  Alert,\r\n  Card,\r\n  CardContent,\r\n  CardMedia,\r\n  Chip,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  ListItemIcon,\r\n  Accordion,\r\n  AccordionSummary,\r\n  AccordionDetails,\r\n  CircularProgress,\r\n  Container,\r\n  InputAdornment,\r\n  Checkbox,\r\n  Divider,\r\n  Badge,\r\n  Snackbar,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  DialogContent,\r\n  DialogActions,\r\n} from \"@mui/material\";\r\nimport {\r\n  ArrowBack,\r\n  ShoppingBag,\r\n  CreditCard,\r\n  Money,\r\n  LocalShipping,\r\n  Security,\r\n  VerifiedUser,\r\n  CheckCircle,\r\n  Warning,\r\n  ExpandMore,\r\n  LocationOn,\r\n  Phone,\r\n  Email,\r\n  Person,\r\n  Home,\r\n  Business,\r\n  Close,\r\n  Lock,\r\n  Payment,\r\n  Receipt,\r\n} from \"@mui/icons-material\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// Enhanced styles with black and white theme\r\nconst styles = {\r\n  root: {\r\n    minHeight: '100vh',\r\n    background: '#FFFFFF',\r\n    position: 'relative',\r\n    overflow: 'hidden',\r\n  },\r\n  floatingElement1: {\r\n    position: 'fixed',\r\n    top: '10%',\r\n    left: '5%',\r\n    width: '300px',\r\n    height: '300px',\r\n    borderRadius: '50%',\r\n    background: 'radial-gradient(circle, rgba(0,0,0,0.05) 0%, rgba(0,0,0,0) 70%)',\r\n    zIndex: 0,\r\n    animation: 'float 20s ease-in-out infinite',\r\n  },\r\n  floatingElement2: {\r\n    position: 'fixed',\r\n    bottom: '10%',\r\n    right: '5%',\r\n    width: '400px',\r\n    height: '400px',\r\n    borderRadius: '50%',\r\n    background: 'radial-gradient(circle, rgba(0,0,0,0.03) 0%, rgba(0,0,0,0) 70%)',\r\n    zIndex: 0,\r\n    animation: 'float 25s ease-in-out infinite reverse',\r\n  },\r\n  container: {\r\n    maxWidth: '1400px',\r\n    margin: '0 auto',\r\n    padding: '20px',\r\n    position: 'relative',\r\n    zIndex: 1,\r\n  },\r\n  header: {\r\n    textAlign: 'center',\r\n    mb: 4,\r\n    pt: 2,\r\n  },\r\n  title: {\r\n    fontSize: { xs: '2rem', md: '3rem' },\r\n    fontWeight: 800,\r\n    color: '#000000',\r\n    mb: 1,\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '1px',\r\n  },\r\n  subtitle: {\r\n    color: '#666666',\r\n    fontSize: '1.1rem',\r\n    fontWeight: 400,\r\n  },\r\n  stepper: {\r\n    background: '#FFFFFF',\r\n    border: '1px solid #E5E5E5',\r\n    borderRadius: '12px',\r\n    p: 3,\r\n    mb: 4,\r\n    boxShadow: '0 2px 8px rgba(0,0,0,0.04)',\r\n  },\r\n  stepIcon: {\r\n    '&.Mui-active': {\r\n      color: '#000000',\r\n      transform: 'scale(1.1)',\r\n    },\r\n    '&.Mui-completed': {\r\n      color: '#000000',\r\n      transform: 'scale(1.1)',\r\n    },\r\n    transition: 'all 0.3s ease',\r\n  },\r\n  paper: {\r\n    background: '#FFFFFF',\r\n    border: '1px solid #E5E5E5',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 4px 12px rgba(0,0,0,0.05)',\r\n    overflow: 'hidden',\r\n  },\r\n  formSection: {\r\n    p: 4,\r\n  },\r\n  sectionTitle: {\r\n    color: '#000000',\r\n    fontWeight: 700,\r\n    mb: 3,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: 1,\r\n    fontSize: '1.3rem',\r\n    textTransform: 'uppercase',\r\n    letterSpacing: '0.5px',\r\n  },\r\n  textField: {\r\n    '& .MuiOutlinedInput-root': {\r\n      borderRadius: '8px',\r\n      background: '#FFFFFF',\r\n      '& fieldset': {\r\n        borderColor: '#DDDDDD',\r\n        borderWidth: '1px',\r\n      },\r\n      '&:hover fieldset': {\r\n        borderColor: '#000000',\r\n      },\r\n      '&.Mui-focused fieldset': {\r\n        borderColor: '#000000',\r\n        borderWidth: '1px',\r\n      },\r\n    },\r\n    '& .MuiInputLabel-root': {\r\n      color: '#666666',\r\n      fontWeight: 500,\r\n    },\r\n    '& .MuiInputAdornment-root': {\r\n      color: '#000000',\r\n    },\r\n  },\r\n  paymentMethodCard: {\r\n    border: '1px solid #DDDDDD',\r\n    borderRadius: '8px',\r\n    p: 3,\r\n    mb: 2,\r\n    background: '#FFFFFF',\r\n    transition: 'all 0.3s ease',\r\n    cursor: 'pointer',\r\n    '&:hover': {\r\n      borderColor: '#000000',\r\n      background: '#FAFAFA',\r\n      transform: 'translateY(-2px)',\r\n    },\r\n    '&.selected': {\r\n      borderColor: '#000000',\r\n      background: '#FAFAFA',\r\n    },\r\n  },\r\n  paymentIcon: {\r\n    fontSize: 32,\r\n    color: '#000000',\r\n    mb: 1,\r\n  },\r\n  orderSummary: {\r\n    position: 'sticky',\r\n    top: 100,\r\n    background: '#FFFFFF',\r\n    border: '1px solid #E5E5E5',\r\n    borderRadius: '12px',\r\n    boxShadow: '0 4px 12px rgba(0,0,0,0.05)',\r\n    p: 4,\r\n    height: 'fit-content',\r\n  },\r\n  orderItem: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    gap: 2,\r\n    mb: 2,\r\n    p: 2,\r\n    background: '#FAFAFA',\r\n    borderRadius: '8px',\r\n    border: '1px solid #EEEEEE',\r\n  },\r\n  itemImage: {\r\n    width: 60,\r\n    height: 60,\r\n    borderRadius: '8px',\r\n    objectFit: 'cover',\r\n    border: '1px solid #EEEEEE',\r\n  },\r\n  priceBreakdown: {\r\n    background: '#FAFAFA',\r\n    borderRadius: '8px',\r\n    p: 3,\r\n    border: '1px solid #EEEEEE',\r\n  },\r\n  totalAmount: {\r\n    fontSize: '1.5rem',\r\n    fontWeight: 800,\r\n    color: '#000000',\r\n  },\r\n  trustBadge: {\r\n    background: '#FAFAFA',\r\n    border: '1px solid #E5E5E5',\r\n    borderRadius: '8px',\r\n    p: 2,\r\n    textAlign: 'center',\r\n    mt: 2,\r\n    transition: 'all 0.3s ease',\r\n    '&:hover': {\r\n      background: '#F0F0F0',\r\n      transform: 'translateY(-2px)',\r\n    },\r\n  },\r\n  button: {\r\n    borderRadius: '8px',\r\n    px: 4,\r\n    py: 1.5,\r\n    fontWeight: 600,\r\n    textTransform: 'uppercase',\r\n    transition: 'all 0.3s ease',\r\n    letterSpacing: '0.5px',\r\n  },\r\n  primaryButton: {\r\n    background: '#000000',\r\n    color: '#FFFFFF',\r\n    border: '1px solid #000000',\r\n    '&:hover': {\r\n      background: '#333333',\r\n      borderColor: '#333333',\r\n      transform: 'translateY(-2px)',\r\n      boxShadow: '0 4px 12px rgba(0,0,0,0.15)',\r\n    },\r\n    '&:disabled': {\r\n      background: '#CCCCCC',\r\n      borderColor: '#CCCCCC',\r\n      color: '#999999',\r\n    },\r\n  },\r\n  secondaryButton: {\r\n    color: '#666666',\r\n    border: '1px solid #DDDDDD',\r\n    background: '#FFFFFF',\r\n    '&:hover': {\r\n      background: '#FAFAFA',\r\n      borderColor: '#000000',\r\n      color: '#000000',\r\n    },\r\n  },\r\n  accordion: {\r\n    background: '#FAFAFA',\r\n    borderRadius: '8px',\r\n    border: '1px solid #E5E5E5',\r\n    mb: 2,\r\n    '&:before': {\r\n      display: 'none',\r\n    },\r\n  },\r\n  progressIndicator: {\r\n    background: '#000000',\r\n    height: '3px',\r\n    borderRadius: '2px',\r\n    transition: 'width 0.5s ease',\r\n  },\r\n  emptyCart: {\r\n    textAlign: 'center',\r\n    py: 10,\r\n    background: '#FFFFFF',\r\n    borderRadius: '12px',\r\n    border: '2px dashed #DDDDDD',\r\n  },\r\n  badge: {\r\n    '& .MuiBadge-badge': {\r\n      background: '#000000',\r\n      color: '#FFFFFF',\r\n      fontWeight: 600,\r\n      border: '2px solid #FFFFFF',\r\n    },\r\n  },\r\n  chip: {\r\n    background: '#000000',\r\n    color: '#FFFFFF',\r\n    fontWeight: 600,\r\n    borderRadius: '4px',\r\n  },\r\n  snackbar: {\r\n    borderRadius: '8px',\r\n    background: '#FFFFFF',\r\n    border: '1px solid #E5E5E5',\r\n  },\r\n  divider: {\r\n    borderColor: '#EEEEEE',\r\n  },\r\n  alert: {\r\n    borderRadius: '8px',\r\n    '&.MuiAlert-standardError': {\r\n      background: '#FFF5F5',\r\n      border: '1px solid #FED7D7',\r\n    },\r\n    '&.MuiAlert-standardSuccess': {\r\n      background: '#F0FFF4',\r\n      border: '1px solid #C6F6D5',\r\n    },\r\n    '&.MuiAlert-standardInfo': {\r\n      background: '#EBF8FF',\r\n      border: '1px solid #BEE3F8',\r\n    },\r\n    '&.MuiAlert-standardWarning': {\r\n      background: '#FFFBEB',\r\n      border: '1px solid #FEF3C7',\r\n    },\r\n  },\r\n};\r\n\r\nconst steps = ['Shipping Address', 'Payment Method', 'Review Order'];\r\n\r\n// Backend URL\r\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL || \"https://ecommerce-backend-qqhi.onrender.com\";\r\nconst RAZORPAY_KEY = \"rzp_live_RzGifw58xDx28e\";\r\n // Use your live key\r\n\r\nexport default function CheckoutPage() {\r\n  const { cartItems, clearCart } = useCart();\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const buyNowItem = location.state?.buyNowItem ?? null;\r\n  const itemsToShow = useMemo(() => buyNowItem ? [buyNowItem] : (cartItems || []), [buyNowItem, cartItems]);\r\n\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [session, setSession] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [message, setMessage] = useState({ type: '', text: '' });\r\n  const [showSnackbar, setShowSnackbar] = useState(false);\r\n  const [progress, setProgress] = useState(0);\r\n  const [paymentDialog, setPaymentDialog] = useState(false);\r\n  const [paymentStatus, setPaymentStatus] = useState(null);\r\n\r\n  // Form states\r\n  const [shippingInfo, setShippingInfo] = useState({\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n    phone: '',\r\n    address: '',\r\n    city: '',\r\n    state: '',\r\n    zipCode: '',\r\n    country: 'India',\r\n    saveAddress: false,\r\n  });\r\n\r\n  const [paymentMethod, setPaymentMethod] = useState('razorpay');\r\n  const [paymentProcessing, setPaymentProcessing] = useState(false);\r\n  const [razorpayLoaded, setRazorpayLoaded] = useState(false);\r\n\r\n  // Calculate totals\r\n  const subtotal = useMemo(() => itemsToShow.reduce((sum, item) => {\r\n    const price = parseFloat(item.price) || 0;\r\n    const qty = Number(item.quantity || 1);\r\n    return sum + price * qty;\r\n  }, 0), [itemsToShow]);\r\n\r\n  const shippingFee = subtotal > 999 ? 0 : 50;\r\n  const tax = subtotal * 0.18; // 18% GST\r\n  const totalAmount = subtotal + shippingFee + tax;\r\n\r\n  // Authentication check\r\n  useEffect(() => {\r\n    const checkAuth = async () => {\r\n      try {\r\n        const { data } = await supabase.auth.getSession();\r\n        const currentSession = data?.session ?? null;\r\n        setSession(currentSession);\r\n        \r\n        if (currentSession?.user?.email) {\r\n          setShippingInfo(prev => ({ \r\n            ...prev, \r\n            email: currentSession.user.email \r\n          }));\r\n        }\r\n      } catch (err) {\r\n        console.error(\"Error getting session:\", err);\r\n      }\r\n    };\r\n\r\n    checkAuth();\r\n\r\n    const { data: listener } = supabase.auth.onAuthStateChange((_event, newSession) => {\r\n      setSession(newSession);\r\n    });\r\n\r\n    return () => {\r\n      if (listener?.subscription?.unsubscribe) {\r\n        listener.subscription.unsubscribe();\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  // Progress tracking\r\n  useEffect(() => {\r\n    const progress = ((activeStep + 1) / steps.length) * 100;\r\n    setProgress(progress);\r\n  }, [activeStep]);\r\n\r\n  // Load Razorpay script on component mount\r\n  useEffect(() => {\r\n    const loadRazorpayScript = () => {\r\n      return new Promise((resolve) => {\r\n        if (window.Razorpay) {\r\n          console.log(\"âœ… Razorpay already loaded\");\r\n          setRazorpayLoaded(true);\r\n          return resolve(true);\r\n        }\r\n\r\n        const script = document.createElement(\"script\");\r\n        script.src = \"https://checkout.razorpay.com/v1/checkout.js\";\r\n        script.async = true;\r\n        \r\n        script.onload = () => {\r\n          console.log(\"âœ… Razorpay SDK loaded\");\r\n          setRazorpayLoaded(true);\r\n          resolve(true);\r\n        };\r\n        \r\n        script.onerror = (error) => {\r\n          console.error(\"âŒ Failed to load Razorpay script:\", error);\r\n          setRazorpayLoaded(false);\r\n          resolve(false);\r\n        };\r\n        \r\n        document.body.appendChild(script);\r\n      });\r\n    };\r\n\r\n    loadRazorpayScript();\r\n  }, []);\r\n\r\n  // Show message in snackbar\r\n  const showMessage = useCallback((type, text) => {\r\n    setMessage({ type, text });\r\n    setShowSnackbar(true);\r\n  }, []);\r\n\r\n  // Form validation\r\n  const validateStep = useCallback((step) => {\r\n    switch (step) {\r\n      case 0: // Shipping Address\r\n        const requiredFields = ['firstName', 'lastName', 'email', 'phone', 'address', 'city', 'state', 'zipCode'];\r\n        const missingFields = requiredFields.filter(field => !shippingInfo[field]);\r\n        \r\n        if (missingFields.length > 0) {\r\n          showMessage('error', 'Please fill in all required fields');\r\n          return false;\r\n        }\r\n        \r\n        if (!/^\\S+@\\S+\\.\\S+$/.test(shippingInfo.email)) {\r\n          showMessage('error', 'Please enter a valid email address');\r\n          return false;\r\n        }\r\n        \r\n        if (!/^\\d{10}$/.test(shippingInfo.phone)) {\r\n          showMessage('error', 'Please enter a valid 10-digit phone number');\r\n          return false;\r\n        }\r\n        \r\n        return true;\r\n\r\n      case 1: // Payment Method\r\n        if (!paymentMethod) {\r\n          showMessage('error', 'Please select a payment method');\r\n          return false;\r\n        }\r\n        return true;\r\n\r\n      default:\r\n        return true;\r\n    }\r\n  }, [shippingInfo, paymentMethod, showMessage]);\r\n\r\n  const handleNext = useCallback(() => {\r\n    if (validateStep(activeStep)) {\r\n      setActiveStep((prevStep) => prevStep + 1);\r\n      setMessage({ type: '', text: '' });\r\n      setShowSnackbar(false);\r\n    }\r\n  }, [activeStep, validateStep]);\r\n\r\n  const handleBack = useCallback(() => {\r\n    setActiveStep((prevStep) => prevStep - 1);\r\n    setMessage({ type: '', text: '' });\r\n    setShowSnackbar(false);\r\n  }, []);\r\n\r\n  const handleShippingChange = useCallback((field, value) => {\r\n    setShippingInfo(prev => ({ ...prev, [field]: value }));\r\n  }, []);\r\n\r\n  const handlePaymentMethodChange = useCallback((method) => {\r\n    setPaymentMethod(method);\r\n  }, []);\r\n\r\n  // âœ… FIXED: Save order to backend\r\n  const saveOrderToBackend = useCallback(async (paymentMethod, paymentId = null) => {\r\n    try {\r\n      const { data: { user } } = await supabase.auth.getUser();\r\n      \r\n      // Prepare order payload\r\n      const orderPayload = {\r\n        user_id: user?.id || null,\r\n        items: itemsToShow.map(item => ({\r\n          id: item.id || `prod_${Date.now()}`,\r\n          name: item.name || item.title || \"Product\",\r\n          price: parseFloat(item.price) || 0,\r\n          quantity: Number(item.quantity) || 1,\r\n          image: item.image_url || item.images?.[0] || \"https://via.placeholder.com/150\",\r\n        })),\r\n        total_amount: parseFloat(totalAmount.toFixed(2)),\r\n        subtotal: parseFloat(subtotal.toFixed(2)),\r\n        shipping_fee: parseFloat(shippingFee.toFixed(2)),\r\n        tax: parseFloat(tax.toFixed(2)),\r\n        shipping_info: {\r\n          name: `${shippingInfo.firstName} ${shippingInfo.lastName}`.trim(),\r\n          email: shippingInfo.email,\r\n          phone: shippingInfo.phone,\r\n          address: shippingInfo.address,\r\n          city: shippingInfo.city,\r\n          state: shippingInfo.state,\r\n          pincode: shippingInfo.zipCode,\r\n          country: shippingInfo.country,\r\n        },\r\n        payment_method: paymentMethod,\r\n        payment_id: paymentId,\r\n        status: paymentMethod === 'cod' ? 'pending' : 'confirmed',\r\n      };\r\n\r\n      console.log('ðŸ“¦ Saving order to backend:', orderPayload);\r\n\r\n      // Call backend to save order\r\n      const response = await fetch(`${BACKEND_URL}/save-order`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify(orderPayload),\r\n      });\r\n\r\n      const result = await response.json();\r\n\r\n      if (!response.ok) {\r\n        throw new Error(result.error || result.message || 'Failed to save order');\r\n      }\r\n\r\n      console.log('âœ… Order saved successfully:', result);\r\n      return result.order || result.data;\r\n\r\n    } catch (err) {\r\n      console.error('âŒ Save order failed:', err);\r\n      throw err;\r\n    }\r\n  }, [itemsToShow, totalAmount, subtotal, shippingFee, tax, shippingInfo]);\r\n\r\n  // âœ… FIXED: Handle Cash on Delivery\r\n  const handleCODPayment = useCallback(async () => {\r\n    setLoading(true);\r\n    setPaymentProcessing(true);\r\n    showMessage('info', 'Processing your COD order...');\r\n    \r\n    try {\r\n      const orderData = await saveOrderToBackend(\"cod\");\r\n      \r\n      if (orderData) {\r\n        // Clear cart if not buy now\r\n        if (!buyNowItem) {\r\n          clearCart();\r\n        }\r\n        \r\n        // Navigate to thank you page\r\n        navigate(\"/thank-you\", { \r\n          state: { \r\n            orderDetails: {\r\n              id: orderData.id,\r\n              order_number: orderData.order_number,\r\n              total_amount: totalAmount,\r\n              items: itemsToShow,\r\n              shipping_info: shippingInfo,\r\n              payment_method: \"Cash on Delivery\",\r\n              payment_id: null,\r\n              status: 'pending',\r\n              created_at: orderData.created_at || new Date().toISOString(),\r\n            } \r\n          } \r\n        });\r\n      } else {\r\n        throw new Error(\"Failed to create order\");\r\n      }\r\n    } catch (err) {\r\n      console.error(\"COD payment error:\", err);\r\n      showMessage('error', `Order failed: ${err.message || 'Please try again'}`);\r\n    } finally {\r\n      setLoading(false);\r\n      setPaymentProcessing(false);\r\n    }\r\n  }, [saveOrderToBackend, buyNowItem, clearCart, navigate, itemsToShow, totalAmount, shippingInfo, showMessage]);\r\n\r\n  // âœ… FIXED: Razorpay Payment Handler (WORKING VERSION)\r\n  const handleRazorpayPayment = useCallback(async () => {\r\n    console.log(\"ðŸ’° Starting Razorpay payment process...\");\r\n    \r\n    setLoading(true);\r\n    setPaymentProcessing(true);\r\n    setPaymentDialog(true);\r\n    showMessage('info', 'Initializing payment gateway...');\r\n\r\n    try {\r\n      // Check if Razorpay is loaded\r\n      if (!window.Razorpay && !razorpayLoaded) {\r\n        throw new Error(\"Payment gateway not loaded. Please refresh the page.\");\r\n      }\r\n\r\n      // Wait a moment for Razorpay to be ready\r\n      await new Promise(resolve => setTimeout(resolve, 500));\r\n\r\n      // Step 1: Create order with backend\r\n      console.log(\"ðŸ“¦ Creating order with backend...\");\r\n      const orderRes = await fetch(`${BACKEND_URL}/create-order`, {\r\n        method: \"POST\",\r\n        headers: { \r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ \r\n          amount: totalAmount\r\n        }),\r\n      });\r\n\r\n      if (!orderRes.ok) {\r\n        const errorData = await orderRes.json();\r\n        console.error(\"âŒ Backend create-order error:\", errorData);\r\n        throw new Error(errorData.error || errorData.message || \"Failed to create payment order\");\r\n      }\r\n\r\n      const orderData = await orderRes.json();\r\n      console.log(\"âœ… Backend response:\", orderData);\r\n\r\n      // âœ… Correct validation for Razorpay response\r\nif (!orderData.id || !orderData.amount) {\r\n  throw new Error(\"Invalid order response from server\");\r\n}\r\n\r\nconst razorpayOrder = orderData;\r\n\r\n\r\n      // Step 2: Prepare payment options\r\n      const options = {\r\n        key: RAZORPAY_KEY, // Your Razorpay live key\r\n        amount: razorpayOrder.amount,\r\n        currency: \"INR\",\r\n        order_id: razorpayOrder.id,\r\n        name: \"ONE-T Fashion Store\",\r\n        description: \"Order Payment\",\r\n        image: \"https://cdn-icons-png.flaticon.com/512/2456/2456702.png\",\r\n        handler: async function (response) {\r\n          console.log(\"âœ… Payment successful response:\", response);\r\n          setPaymentStatus('success');\r\n          showMessage('success', 'Payment successful! Saving your order...');\r\n          \r\n          try {\r\n            // Step 3: Save order to database\r\n            const savedOrder = await saveOrderToBackend(\"razorpay\", response.razorpay_payment_id);\r\n            \r\n            if (savedOrder) {\r\n              // Clear cart if not buy now\r\n              if (!buyNowItem) {\r\n                clearCart();\r\n              }\r\n              \r\n              // Close payment dialog\r\n              setPaymentDialog(false);\r\n              \r\n              // Navigate to thank you page\r\n              setTimeout(() => {\r\n                navigate(\"/thank-you\", { \r\n                  state: { \r\n                    orderDetails: {\r\n                      id: savedOrder.id,\r\n                      order_number: savedOrder.order_number,\r\n                      total_amount: totalAmount,\r\n                      items: itemsToShow,\r\n                      shipping_info: shippingInfo,\r\n                      payment_method: \"Razorpay\",\r\n                      payment_id: response.razorpay_payment_id,\r\n                      status: 'confirmed',\r\n                      created_at: savedOrder.created_at || new Date().toISOString(),\r\n                    } \r\n                  } \r\n                });\r\n              }, 1500);\r\n            }\r\n          } catch (saveError) {\r\n            console.error(\"âŒ Error saving order after payment:\", saveError);\r\n            showMessage('error', 'Payment successful but order save failed. Please contact support.');\r\n            setPaymentStatus('error');\r\n          } finally {\r\n            setLoading(false);\r\n            setPaymentProcessing(false);\r\n          }\r\n        },\r\n        prefill: {\r\n          name: `${shippingInfo.firstName} ${shippingInfo.lastName}`.trim(),\r\n          email: shippingInfo.email,\r\n          contact: shippingInfo.phone,\r\n        },\r\n        notes: {\r\n          address: shippingInfo.address,\r\n        },\r\n        theme: {\r\n          color: \"#000000\",\r\n          backdrop_color: \"#FFFFFF\",\r\n        },\r\n        modal: {\r\n          ondismiss: function() {\r\n            console.log(\"Payment modal dismissed by user\");\r\n            setPaymentDialog(false);\r\n            setPaymentStatus('cancelled');\r\n            showMessage('info', 'Payment cancelled');\r\n            setLoading(false);\r\n            setPaymentProcessing(false);\r\n          },\r\n          escape: true,\r\n          backdropclose: true,\r\n        }\r\n      };\r\n\r\n      // Add payment failure handler\r\n      options.modal.ondismiss = function() {\r\n        console.log(\"Payment modal closed\");\r\n        setPaymentDialog(false);\r\n        showMessage('info', 'Payment cancelled');\r\n        setLoading(false);\r\n        setPaymentProcessing(false);\r\n      };\r\n\r\n      // Step 4: Create and open Razorpay instance\r\n      console.log(\"ðŸ”„ Opening Razorpay modal...\");\r\n      const rzp = new window.Razorpay(options);\r\n      \r\n      // Listen for payment failure\r\n      rzp.on('payment.failed', function (response) {\r\n        console.error(\"âŒ Payment failed:\", response.error);\r\n        setPaymentStatus('failed');\r\n        showMessage('error', `Payment failed: ${response.error.description || 'Please try again'}`);\r\n        setLoading(false);\r\n        setPaymentProcessing(false);\r\n      });\r\n\r\n      // Open the payment modal\r\n      rzp.open();\r\n      \r\n      // Store reference for cleanup\r\n      window.currentRzp = rzp;\r\n\r\n    } catch (error) {\r\n      console.error(\"âŒ Razorpay initialization error:\", error);\r\n      setPaymentDialog(false);\r\n      showMessage('error', `Payment failed: ${error.message || 'Please try again'}`);\r\n      setLoading(false);\r\n      setPaymentProcessing(false);\r\n    }\r\n  }, [razorpayLoaded, totalAmount, saveOrderToBackend, buyNowItem, clearCart, navigate, itemsToShow, shippingInfo, showMessage]);\r\n\r\n  // Handle final order placement\r\n  const handlePlaceOrder = useCallback(async () => {\r\n    if (paymentMethod === 'razorpay') {\r\n      await handleRazorpayPayment();\r\n    } else if (paymentMethod === 'cod') {\r\n      await handleCODPayment();\r\n    }\r\n  }, [paymentMethod, handleRazorpayPayment, handleCODPayment]);\r\n\r\n  // Render step content\r\n  const renderStepContent = useCallback((step) => {\r\n    switch (step) {\r\n      case 0:\r\n        return (\r\n          <Box sx={styles.formSection}>\r\n            <Typography variant=\"h6\" sx={styles.sectionTitle}>\r\n              <LocationOn sx={{ color: '#000000' }} />\r\n              Shipping Information\r\n            </Typography>\r\n            \r\n            <Grid container spacing={3}>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"First Name\"\r\n                  value={shippingInfo.firstName}\r\n                  onChange={(e) => handleShippingChange('firstName', e.target.value)}\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Person sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Last Name\"\r\n                  value={shippingInfo.lastName}\r\n                  onChange={(e) => handleShippingChange('lastName', e.target.value)}\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Person sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Email Address\"\r\n                  type=\"email\"\r\n                  value={shippingInfo.email}\r\n                  onChange={(e) => handleShippingChange('email', e.target.value)}\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Email sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Phone Number\"\r\n                  value={shippingInfo.phone}\r\n                  onChange={(e) => handleShippingChange('phone', e.target.value)}\r\n                  placeholder=\"10-digit mobile number\"\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Phone sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Street Address\"\r\n                  multiline\r\n                  rows={2}\r\n                  value={shippingInfo.address}\r\n                  onChange={(e) => handleShippingChange('address', e.target.value)}\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Home sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"City\"\r\n                  value={shippingInfo.city}\r\n                  onChange={(e) => handleShippingChange('city', e.target.value)}\r\n                  sx={styles.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"State\"\r\n                  value={shippingInfo.state}\r\n                  onChange={(e) => handleShippingChange('state', e.target.value)}\r\n                  sx={styles.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"ZIP / Postal Code\"\r\n                  value={shippingInfo.zipCode}\r\n                  onChange={(e) => handleShippingChange('zipCode', e.target.value)}\r\n                  sx={styles.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                <TextField\r\n                  required\r\n                  fullWidth\r\n                  label=\"Country\"\r\n                  value={shippingInfo.country}\r\n                  onChange={(e) => handleShippingChange('country', e.target.value)}\r\n                  sx={styles.textField}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <Business sx={{ color: '#000000' }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormControlLabel\r\n                  control={\r\n                    <Checkbox\r\n                      checked={shippingInfo.saveAddress}\r\n                      onChange={(e) => handleShippingChange('saveAddress', e.target.checked)}\r\n                      sx={{\r\n                        color: '#666666',\r\n                        '&.Mui-checked': {\r\n                          color: '#000000',\r\n                        },\r\n                      }}\r\n                    />\r\n                  }\r\n                  label=\"Save this address for future orders\"\r\n                  sx={{ color: '#666666' }}\r\n                />\r\n              </Grid>\r\n            </Grid>\r\n          </Box>\r\n        );\r\n\r\n      case 1:\r\n        return (\r\n          <Box sx={styles.formSection}>\r\n            <Typography variant=\"h6\" sx={styles.sectionTitle}>\r\n              <CreditCard sx={{ color: '#000000' }} />\r\n              Select Payment Method\r\n            </Typography>\r\n            \r\n            <FormControl component=\"fieldset\" sx={{ width: '100%' }}>\r\n              <FormLabel component=\"legend\" sx={{ color: '#666666', mb: 3, fontSize: '1.1rem' }}>\r\n                Choose how you want to pay\r\n              </FormLabel>\r\n              <RadioGroup value={paymentMethod} onChange={(e) => handlePaymentMethodChange(e.target.value)}>\r\n                <Paper \r\n                  sx={{\r\n                    ...styles.paymentMethodCard,\r\n                    ...(paymentMethod === 'razorpay' ? { borderColor: '#000000', background: '#FAFAFA' } : {}),\r\n                  }}\r\n                >\r\n                  <FormControlLabel\r\n                    value=\"razorpay\"\r\n                    control={<Radio sx={{ color: '#000000' }} />}\r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                        <CreditCard sx={styles.paymentIcon} />\r\n                        <Box>\r\n                          <Typography sx={{ color: '#000000', fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                            Credit/Debit Card & UPI\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                            Secure payment with Razorpay\r\n                          </Typography>\r\n                          <Box sx={{ display: 'flex', gap: 1, mt: 1 }}>\r\n                            <Chip label=\"Visa\" size=\"small\" variant=\"outlined\" sx={{ color: '#000000', borderColor: '#000000' }} />\r\n                            <Chip label=\"Mastercard\" size=\"small\" variant=\"outlined\" sx={{ color: '#000000', borderColor: '#000000' }} />\r\n                            <Chip label=\"UPI\" size=\"small\" variant=\"outlined\" sx={{ color: '#000000', borderColor: '#000000' }} />\r\n                          </Box>\r\n                          <Typography variant=\"caption\" sx={{ color: '#666666', display: 'block', mt: 1 }}>\r\n                            Test Card: 4111 1111 1111 1111\r\n                          </Typography>\r\n                        </Box>\r\n                      </Box>\r\n                    }\r\n                  />\r\n                </Paper>\r\n                \r\n                <Paper \r\n                  sx={{\r\n                    ...styles.paymentMethodCard,\r\n                    ...(paymentMethod === 'cod' ? { borderColor: '#000000', background: '#FAFAFA' } : {}),\r\n                  }}\r\n                >\r\n                  <FormControlLabel\r\n                    value=\"cod\"\r\n                    control={<Radio sx={{ color: '#000000' }} />}\r\n                    label={\r\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                        <Money sx={styles.paymentIcon} />\r\n                        <Box>\r\n                          <Typography sx={{ color: '#000000', fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                            Cash on Delivery\r\n                          </Typography>\r\n                          <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                            Pay when you receive your order\r\n                          </Typography>\r\n                          <Chip \r\n                            label=\"No extra charges\" \r\n                            size=\"small\" \r\n                            variant=\"outlined\" \r\n                            sx={{ color: '#000000', borderColor: '#000000', mt: 1 }} \r\n                          />\r\n                        </Box>\r\n                      </Box>\r\n                    }\r\n                  />\r\n                </Paper>\r\n              </RadioGroup>\r\n            </FormControl>\r\n\r\n            {/* Payment Security Info */}\r\n            <Box sx={{ mt: 4 }}>\r\n              <Accordion sx={styles.accordion}>\r\n                <AccordionSummary expandIcon={<ExpandMore sx={{ color: '#000000' }} />}>\r\n                  <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\r\n                    <Security sx={{ color: '#000000' }} />\r\n                    <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      Payment Security\r\n                    </Typography>\r\n                  </Box>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                  <List>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <CheckCircle sx={{ color: '#000000' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"SSL Encrypted Transactions\" sx={{ color: '#666666' }} />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <CheckCircle sx={{ color: '#000000' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"PCI DSS Compliant\" sx={{ color: '#666666' }} />\r\n                    </ListItem>\r\n                    <ListItem>\r\n                      <ListItemIcon>\r\n                        <CheckCircle sx={{ color: '#000000' }} />\r\n                      </ListItemIcon>\r\n                      <ListItemText primary=\"No card details stored\" sx={{ color: '#666666' }} />\r\n                    </ListItem>\r\n                  </List>\r\n                </AccordionDetails>\r\n              </Accordion>\r\n            </Box>\r\n          </Box>\r\n        );\r\n\r\n      case 2:\r\n        return (\r\n          <Box sx={styles.formSection}>\r\n            <Typography variant=\"h6\" sx={styles.sectionTitle}>\r\n              <CheckCircle sx={{ color: '#000000' }} />\r\n              Review Your Order\r\n            </Typography>\r\n            \r\n            {/* Order Items */}\r\n            <Card sx={{ mb: 3, background: '#FAFAFA' }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" sx={{ color: '#000000', mb: 2, fontWeight: 600 }}>\r\n                  Order Items ({itemsToShow.length})\r\n                </Typography>\r\n                {itemsToShow.map((item, index) => (\r\n                  <Box key={index} sx={styles.orderItem}>\r\n                    <CardMedia\r\n                      component=\"img\"\r\n                      image={item.image_url || item.images?.[0] || \"https://via.placeholder.com/60x60?text=No+Image\"}\r\n                      alt={item.name}\r\n                      sx={styles.itemImage}\r\n                    />\r\n                    <Box sx={{ flex: 1 }}>\r\n                      <Typography sx={{ color: '#000000', fontWeight: 'bold', mb: 0.5 }}>\r\n                        {item.name}\r\n                      </Typography>\r\n                      <Box sx={{ display: 'flex', gap: 2, alignItems: 'center' }}>\r\n                        <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                          Qty: {item.quantity || 1}\r\n                        </Typography>\r\n                        {item.discount > 0 && (\r\n                          <Chip \r\n                            label={`${item.discount}% OFF`} \r\n                            size=\"small\" \r\n                            sx={styles.chip} \r\n                          />\r\n                        )}\r\n                      </Box>\r\n                    </Box>\r\n                    <Box sx={{ textAlign: 'right' }}>\r\n                      <Typography sx={{ color: '#000000', fontWeight: 'bold', fontSize: '1.1rem' }}>\r\n                        â‚¹{(item.price * (item.quantity || 1)).toFixed(2)}\r\n                      </Typography>\r\n                      {item.originalPrice && (\r\n                        <Typography variant=\"body2\" sx={{ color: '#999999', textDecoration: 'line-through' }}>\r\n                          â‚¹{(item.originalPrice * (item.quantity || 1)).toFixed(2)}\r\n                        </Typography>\r\n                      )}\r\n                    </Box>\r\n                  </Box>\r\n                ))}\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Shipping Information */}\r\n            <Card sx={{ mb: 3, background: '#FAFAFA' }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" sx={{ color: '#000000', mb: 2, fontWeight: 600 }}>\r\n                  Shipping Address\r\n                </Typography>\r\n                <Box sx={{ color: '#000000' }}>\r\n                  <Typography sx={{ fontWeight: 'bold', mb: 1 }}>\r\n                    {shippingInfo.firstName} {shippingInfo.lastName}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ mb: 0.5 }}>\r\n                    {shippingInfo.address}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ mb: 0.5 }}>\r\n                    {shippingInfo.city}, {shippingInfo.state} {shippingInfo.zipCode}\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" sx={{ mb: 0.5 }}>\r\n                    {shippingInfo.country}\r\n                  </Typography>\r\n                  <Box sx={{ display: 'flex', gap: 2, mt: 2 }}>\r\n                    <Chip \r\n                      icon={<Phone />} \r\n                      label={shippingInfo.phone} \r\n                      variant=\"outlined\" \r\n                      sx={{ color: '#000000', borderColor: '#000000' }} \r\n                    />\r\n                    <Chip \r\n                      icon={<Email />} \r\n                      label={shippingInfo.email} \r\n                      variant=\"outlined\" \r\n                      sx={{ color: '#000000', borderColor: '#000000' }} \r\n                    />\r\n                  </Box>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Payment Method */}\r\n            <Card sx={{ mb: 3, background: '#FAFAFA' }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" sx={{ color: '#000000', mb: 2, fontWeight: 600 }}>\r\n                  Payment Method\r\n                </Typography>\r\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>\r\n                  {paymentMethod === 'razorpay' ? (\r\n                    <>\r\n                      <CreditCard sx={{ color: '#000000', fontSize: 32 }} />\r\n                      <Box>\r\n                        <Typography sx={{ color: '#000000', fontWeight: 'bold' }}>\r\n                          Credit/Debit Card & UPI\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                          Secure payment with Razorpay\r\n                        </Typography>\r\n                      </Box>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <Money sx={{ color: '#000000', fontSize: 32 }} />\r\n                      <Box>\r\n                        <Typography sx={{ color: '#000000', fontWeight: 'bold' }}>\r\n                          Cash on Delivery\r\n                        </Typography>\r\n                        <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                          Pay when you receive your order\r\n                        </Typography>\r\n                      </Box>\r\n                    </>\r\n                  )}\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Final Order Summary */}\r\n            <Card sx={{ background: '#FAFAFA' }}>\r\n              <CardContent>\r\n                <Typography variant=\"h6\" sx={{ color: '#000000', mb: 2, fontWeight: 600 }}>\r\n                  Order Summary\r\n                </Typography>\r\n                <Box sx={styles.priceBreakdown}>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                    <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                      Subtotal\r\n                    </Typography>\r\n                    <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      â‚¹{subtotal.toFixed(2)}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                    <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                      Shipping\r\n                    </Typography>\r\n                    <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      {shippingFee === 0 ? (\r\n                        <Chip label=\"FREE\" size=\"small\" sx={{ background: '#000000', color: '#FFFFFF' }} />\r\n                      ) : (\r\n                        `â‚¹${shippingFee.toFixed(2)}`\r\n                      )}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                    <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                      GST (18%)\r\n                    </Typography>\r\n                    <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      â‚¹{tax.toFixed(2)}\r\n                    </Typography>\r\n                  </Box>\r\n                  <Divider sx={{ my: 2, borderColor: '#EEEEEE' }} />\r\n                  <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                    <Typography variant=\"h6\" sx={{ color: '#000000', fontWeight: 'bold' }}>\r\n                      Total\r\n                    </Typography>\r\n                    <Typography variant=\"h6\" sx={styles.totalAmount}>\r\n                      â‚¹{totalAmount.toFixed(2)}\r\n                    </Typography>\r\n                  </Box>\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Trust Badges */}\r\n            <Box sx={{ mt: 4 }}>\r\n              <Grid container spacing={2}>\r\n                <Grid item xs={12} sm={4}>\r\n                  <Box sx={styles.trustBadge}>\r\n                    <Security sx={{ color: '#000000', fontSize: 24, mb: 1 }} />\r\n                    <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      Secure Payment\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <Box sx={styles.trustBadge}>\r\n                    <LocalShipping sx={{ color: '#000000', fontSize: 24, mb: 1 }} />\r\n                    <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      Fast Delivery\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n                <Grid item xs={12} sm={4}>\r\n                  <Box sx={styles.trustBadge}>\r\n                    <VerifiedUser sx={{ color: '#000000', fontSize: 24, mb: 1 }} />\r\n                    <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n                      Quality Guarantee\r\n                    </Typography>\r\n                  </Box>\r\n                </Grid>\r\n              </Grid>\r\n            </Box>\r\n          </Box>\r\n        );\r\n\r\n      default:\r\n        return null;\r\n    }\r\n  }, [shippingInfo, paymentMethod, itemsToShow, subtotal, shippingFee, tax, totalAmount, handleShippingChange, handlePaymentMethodChange]);\r\n\r\n  // Handle empty cart\r\n  if (!session) {\r\n    return (\r\n      <Box sx={styles.root}>\r\n        <Container sx={styles.container}>\r\n          <Box sx={{ textAlign: 'center', py: 10 }}>\r\n            <Warning sx={{ fontSize: 80, color: '#000000', opacity: 0.5, mb: 3 }} />\r\n            <Typography variant=\"h4\" sx={{ color: '#000000', mb: 2 }}>\r\n              Please Sign In\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ color: '#666666', mb: 4 }}>\r\n              Please sign in to continue with checkout\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => navigate(\"/login\", { state: { returnTo: '/checkout' } })}\r\n              sx={styles.primaryButton}\r\n            >\r\n              Sign In to Continue\r\n            </Button>\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  if (itemsToShow.length === 0) {\r\n    return (\r\n      <Box sx={styles.root}>\r\n        <Container sx={styles.container}>\r\n          <Box sx={styles.emptyCart}>\r\n            <ShoppingBag sx={{ fontSize: 80, color: '#000000', opacity: 0.3, mb: 3 }} />\r\n            <Typography variant=\"h4\" sx={{ color: '#000000', mb: 2 }}>\r\n              Your cart is empty\r\n            </Typography>\r\n            <Typography variant=\"body1\" sx={{ color: '#666666', mb: 4 }}>\r\n              Discover our collection of premium fashion\r\n            </Typography>\r\n            <Button\r\n              variant=\"contained\"\r\n              onClick={() => navigate(\"/products\")}\r\n              sx={styles.primaryButton}\r\n            >\r\n              Start Shopping\r\n            </Button>\r\n          </Box>\r\n        </Container>\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Box sx={styles.root}>\r\n      {/* Floating decorative elements */}\r\n      <Box sx={styles.floatingElement1} />\r\n      <Box sx={styles.floatingElement2} />\r\n\r\n      <Container sx={styles.container}>\r\n        {/* Header */}\r\n        <Box sx={styles.header}>\r\n          <Typography variant=\"h3\" sx={styles.title}>\r\n            Secure Checkout\r\n          </Typography>\r\n          <Typography variant=\"body1\" sx={styles.subtitle}>\r\n            Complete your purchase in just a few steps\r\n          </Typography>\r\n          \r\n          {/* Progress Bar */}\r\n          <Box sx={{ maxWidth: 600, mx: 'auto', mt: 3 }}>\r\n            <Box sx={{ ...styles.progressIndicator, width: `${progress}%` }} />\r\n          </Box>\r\n        </Box>\r\n\r\n        <Grid container spacing={4}>\r\n          {/* Left Column - Checkout Steps */}\r\n          <Grid item xs={12} lg={8}>\r\n            <Paper sx={styles.paper}>\r\n              {/* Stepper */}\r\n              <Stepper activeStep={activeStep} sx={styles.stepper}>\r\n                {steps.map((label, index) => (\r\n                  <Step key={label}>\r\n                    <StepLabel \r\n                      StepIconProps={{\r\n                        sx: styles.stepIcon,\r\n                      }}\r\n                    >\r\n                      {label}\r\n                    </StepLabel>\r\n                  </Step>\r\n                ))}\r\n              </Stepper>\r\n\r\n              {/* Step Content */}\r\n              {renderStepContent(activeStep)}\r\n\r\n              {/* Navigation Buttons */}\r\n              <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4 }}>\r\n                <Button\r\n                  disabled={activeStep === 0 || loading || paymentProcessing}\r\n                  onClick={handleBack}\r\n                  startIcon={<ArrowBack />}\r\n                  sx={styles.secondaryButton}\r\n                >\r\n                  Back\r\n                </Button>\r\n\r\n                <Box>\r\n                  {activeStep === steps.length - 1 ? (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      onClick={handlePlaceOrder}\r\n                      disabled={loading || paymentProcessing}\r\n                      startIcon={paymentProcessing ? <CircularProgress size={20} /> : <Payment />}\r\n                      sx={styles.primaryButton}\r\n                    >\r\n                      {paymentProcessing ? 'Processing...' : `Place Order - â‚¹${totalAmount.toFixed(2)}`}\r\n                    </Button>\r\n                  ) : (\r\n                    <Button\r\n                      variant=\"contained\"\r\n                      onClick={handleNext}\r\n                      sx={styles.primaryButton}\r\n                    >\r\n                      Continue to {steps[activeStep + 1]}\r\n                    </Button>\r\n                  )}\r\n                </Box>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n\r\n          {/* Right Column - Order Summary */}\r\n          <Grid item xs={12} lg={4}>\r\n            <Paper sx={styles.orderSummary}>\r\n              <Typography variant=\"h6\" sx={{ color: '#000000', mb: 3, fontWeight: 'bold', fontSize: '1.3rem' }}>\r\n                Order Summary\r\n              </Typography>\r\n\r\n              {/* Order Items */}\r\n              <Box sx={{ mb: 3, maxHeight: 300, overflowY: 'auto' }}>\r\n                {itemsToShow.map((item, index) => (\r\n                  <Box key={index} sx={styles.orderItem}>\r\n                    <Badge \r\n                      badgeContent={item.quantity || 1} \r\n                      color=\"primary\"\r\n                      sx={styles.badge}\r\n                    >\r\n                      <CardMedia\r\n                        component=\"img\"\r\n                        image={item.image_url || item.images?.[0] || \"https://via.placeholder.com/40x40?text=Product\"}\r\n                        alt={item.name}\r\n                        sx={styles.itemImage}\r\n                      />\r\n                    </Badge>\r\n                    <Box sx={{ flex: 1 }}>\r\n                      <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 'bold', mb: 0.5 }}>\r\n                        {item.name}\r\n                      </Typography>\r\n                      <Typography variant=\"caption\" sx={{ color: '#666666' }}>\r\n                        {item.brand || 'Premium Brand'}\r\n                      </Typography>\r\n                    </Box>\r\n                    <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 'bold' }}>\r\n                      â‚¹{(item.price * (item.quantity || 1)).toFixed(2)}\r\n                    </Typography>\r\n                  </Box>\r\n                ))}\r\n              </Box>\r\n\r\n              <Divider sx={{ borderColor: '#EEEEEE', my: 2 }} />\r\n\r\n              {/* Price Breakdown */}\r\n              <Box sx={styles.priceBreakdown}>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                  <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                    Subtotal\r\n                  </Typography>\r\n                  <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                    â‚¹{subtotal.toFixed(2)}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                  <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                    Shipping\r\n                  </Typography>\r\n                  <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                    {shippingFee === 0 ? (\r\n                      <Chip label=\"FREE\" size=\"small\" sx={{ background: '#000000', color: '#FFFFFF', fontWeight: 600 }} />\r\n                    ) : (\r\n                      `â‚¹${shippingFee.toFixed(2)}`\r\n                    )}\r\n                  </Typography>\r\n                </Box>\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>\r\n                  <Typography variant=\"body2\" sx={{ color: '#666666' }}>\r\n                    GST (18%)\r\n                  </Typography>\r\n                  <Typography sx={{ color: '#000000', fontWeight: 600 }}>\r\n                    â‚¹{tax.toFixed(2)}\r\n                  </Typography>\r\n                </Box>\r\n                <Divider sx={{ borderColor: '#EEEEEE', my: 2 }} />\r\n                <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>\r\n                  <Typography variant=\"h6\" sx={{ color: '#000000', fontWeight: 'bold' }}>\r\n                    Total\r\n                  </Typography>\r\n                  <Typography variant=\"h6\" sx={styles.totalAmount}>\r\n                    â‚¹{totalAmount.toFixed(2)}\r\n                    <Typography variant=\"caption\" sx={{ color: '#666666', ml: 1 }}>\r\n                      (including all taxes)\r\n                    </Typography>\r\n                  </Typography>\r\n                </Box>\r\n              </Box>\r\n\r\n              {/* Free Shipping Notice */}\r\n              {subtotal < 999 && (\r\n                <Alert \r\n                  severity=\"info\" \r\n                  sx={{ \r\n                    mt: 2, \r\n                    background: '#FAFAFA',\r\n                    border: '1px solid #E5E5E5',\r\n                    borderRadius: '8px',\r\n                    '& .MuiAlert-icon': {\r\n                      color: '#666666',\r\n                    },\r\n                    ...styles.alert\r\n                  }}\r\n                >\r\n                  Add â‚¹{(999 - subtotal).toFixed(2)} more for FREE shipping!\r\n                </Alert>\r\n              )}\r\n\r\n              {/* Trust Badges */}\r\n              <Box sx={{ mt: 4 }}>\r\n                <Typography variant=\"subtitle2\" sx={{ color: '#666666', mb: 2, fontWeight: 600 }}>\r\n                  Why shop with us?\r\n                </Typography>\r\n                <Grid container spacing={2}>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <Box sx={styles.trustBadge}>\r\n                      <Lock sx={{ color: '#000000', fontSize: 24, mb: 1 }} />\r\n                      <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n                        100% Secure\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                  <Grid item xs={12} sm={6}>\r\n                    <Box sx={styles.trustBadge}>\r\n                      <Receipt sx={{ color: '#000000', fontSize: 24, mb: 1 }} />\r\n                      <Typography variant=\"body2\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n                        Easy Returns\r\n                      </Typography>\r\n                    </Box>\r\n                  </Grid>\r\n                </Grid>\r\n              </Box>\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n\r\n      {/* Payment Processing Dialog */}\r\n      <Dialog \r\n        open={paymentDialog} \r\n        onClose={() => !paymentProcessing && setPaymentDialog(false)}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n      >\r\n        <DialogTitle sx={{ textAlign: 'center', borderBottom: '1px solid #EEEEEE' }}>\r\n          <Box sx={{ display: 'flex', justifyContent: 'center', mb: 2 }}>\r\n            <CircularProgress size={40} sx={{ color: '#000000' }} />\r\n          </Box>\r\n          <Typography variant=\"h6\" sx={{ color: '#000000', fontWeight: 600 }}>\r\n            Processing Payment\r\n          </Typography>\r\n        </DialogTitle>\r\n        <DialogContent sx={{ textAlign: 'center', py: 4 }}>\r\n          <Typography sx={{ color: '#666666', mb: 2 }}>\r\n            Please wait while we process your payment...\r\n          </Typography>\r\n          <Typography variant=\"body2\" sx={{ color: '#999999' }}>\r\n            Do not close this window or refresh the page.\r\n          </Typography>\r\n        </DialogContent>\r\n        <DialogActions sx={{ justifyContent: 'center', pb: 3 }}>\r\n          <Button \r\n            onClick={() => setPaymentDialog(false)} \r\n            disabled={paymentProcessing}\r\n            sx={styles.secondaryButton}\r\n          >\r\n            Cancel Payment\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n\r\n      {/* Snackbar for messages */}\r\n      <Snackbar\r\n        open={showSnackbar}\r\n        autoHideDuration={6000}\r\n        onClose={() => setShowSnackbar(false)}\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n        sx={styles.snackbar}\r\n      >\r\n        <Alert\r\n          severity={message.type}\r\n          onClose={() => setShowSnackbar(false)}\r\n          action={\r\n            <IconButton\r\n              size=\"small\"\r\n              aria-label=\"close\"\r\n              color=\"inherit\"\r\n              onClick={() => setShowSnackbar(false)}\r\n            >\r\n              <Close fontSize=\"small\" />\r\n            </IconButton>\r\n          }\r\n          sx={styles.alert}\r\n        >\r\n          {message.text}\r\n        </Alert>\r\n      </Snackbar>\r\n\r\n      <style>\r\n        {`\r\n          @keyframes float {\r\n            0%, 100% { transform: translateY(0) rotate(0deg); }\r\n            50% { transform: translateY(-20px) rotate(5deg); }\r\n          }\r\n        `}\r\n      </style>\r\n    </Box>\r\n  );\r\n}"],"names":["styles","root","minHeight","background","position","overflow","floatingElement1","top","left","width","height","borderRadius","zIndex","animation","floatingElement2","bottom","right","container","maxWidth","margin","padding","header","textAlign","mb","pt","title","fontSize","xs","md","fontWeight","color","textTransform","letterSpacing","subtitle","stepper","border","p","boxShadow","stepIcon","transform","transition","paper","formSection","sectionTitle","display","alignItems","gap","textField","borderColor","borderWidth","paymentMethodCard","cursor","paymentIcon","orderSummary","orderItem","itemImage","objectFit","priceBreakdown","totalAmount","trustBadge","mt","button","px","py","primaryButton","secondaryButton","accordion","progressIndicator","emptyCart","badge","chip","snackbar","divider","alert","steps","BACKEND_URL","process","REACT_APP_BACKEND_URL","CheckoutPage","_location$state$buyNo","_location$state","cartItems","clearCart","useCart","location","useLocation","navigate","useNavigate","buyNowItem","state","itemsToShow","useMemo","activeStep","setActiveStep","useState","session","setSession","loading","setLoading","message","setMessage","type","text","showSnackbar","setShowSnackbar","progress","setProgress","paymentDialog","setPaymentDialog","paymentStatus","setPaymentStatus","shippingInfo","setShippingInfo","firstName","lastName","email","phone","address","city","zipCode","country","saveAddress","paymentMethod","setPaymentMethod","paymentProcessing","setPaymentProcessing","razorpayLoaded","setRazorpayLoaded","subtotal","reduce","sum","item","parseFloat","price","Number","quantity","shippingFee","tax","useEffect","async","_data$session","_currentSession$user","data","supabase","auth","getSession","currentSession","user","prev","_objectSpread","err","console","error","checkAuth","listener","onAuthStateChange","_event","newSession","_listener$subscriptio","subscription","unsubscribe","length","Promise","resolve","window","Razorpay","log","script","document","createElement","src","onload","onerror","body","appendChild","showMessage","useCallback","validateStep","step","filter","field","test","handleNext","prevStep","handleBack","handleShippingChange","value","handlePaymentMethodChange","method","saveOrderToBackend","paymentId","arguments","undefined","getUser","orderPayload","user_id","id","items","map","_item$images","concat","Date","now","name","image","image_url","images","total_amount","toFixed","shipping_fee","shipping_info","trim","pincode","payment_method","payment_id","status","response","fetch","headers","JSON","stringify","result","json","ok","Error","order","handleCODPayment","orderData","orderDetails","order_number","created_at","toISOString","handleRazorpayPayment","setTimeout","orderRes","amount","errorData","razorpayOrder","options","key","currency","order_id","description","handler","savedOrder","razorpay_payment_id","saveError","prefill","contact","notes","theme","backdrop_color","modal","ondismiss","escape","backdropclose","rzp","on","open","currentRzp","handlePlaceOrder","renderStepContent","_jsxs","Box","sx","children","Typography","variant","_jsx","LocationOn","Grid","spacing","sm","TextField","required","fullWidth","label","onChange","e","target","InputProps","startAdornment","InputAdornment","Person","Email","placeholder","Phone","multiline","rows","Home","Business","FormControlLabel","control","Checkbox","checked","CreditCard","FormControl","component","FormLabel","RadioGroup","Paper","Radio","Chip","size","Money","Accordion","AccordionSummary","expandIcon","ExpandMore","Security","AccordionDetails","List","ListItem","ListItemIcon","CheckCircle","ListItemText","primary","Card","CardContent","index","_item$images2","CardMedia","alt","flex","discount","originalPrice","textDecoration","icon","_Fragment","justifyContent","Divider","my","LocalShipping","VerifiedUser","Container","ShoppingBag","opacity","Button","onClick","mx","lg","Stepper","Step","StepLabel","StepIconProps","disabled","startIcon","ArrowBack","CircularProgress","Payment","maxHeight","overflowY","_item$images3","Badge","badgeContent","brand","ml","Alert","severity","Lock","Receipt","Dialog","onClose","DialogTitle","borderBottom","DialogContent","DialogActions","pb","Snackbar","autoHideDuration","anchorOrigin","vertical","horizontal","action","IconButton","Close","Warning","returnTo"],"ignoreList":[],"sourceRoot":""}