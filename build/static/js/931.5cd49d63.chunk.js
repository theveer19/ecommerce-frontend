"use strict";(self.webpackChunkmy_ecommerce_frontend=self.webpackChunkmy_ecommerce_frontend||[]).push([[931],{18296(e,t,i){i.d(t,{A:()=>n});const n=(0,i(33797).A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},21864(e,t,i){i.d(t,{A:()=>n});const n=(0,i(33797).A)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},42232(e,t,i){i.d(t,{A:()=>n});const n=(0,i(33797).A)("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]])},47607(e,t,i){i.d(t,{A:()=>n});const n=(0,i(33797).A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},59931(e,t,i){i.r(t),i.d(t,{default:()=>I});var n=i(89379),r=i(65043),s=i(73216),o=i(72720),a=i(53969),l=i(80172),c=i(49806),x=i(12097),d=i(42579),p=i(53089),h=i(55895),f=i(94799),g=i(94527),m=i(70916),A=i(56803),b=i(47607),u=i(21864),j=i(33797);const y=(0,j.A)("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);var v=i(42232),k=i(81024),S=i(18296);const w=(0,j.A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),C=(0,j.A)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1-2-1Z",key:"wqdwcb"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17V7",key:"pyj7ub"}]]);var z=i(70579);function I(){var e,t,i;const{id:j}=(0,s.g)(),I=(0,s.Zp)(),[T,R]=(0,r.useState)(null),[W,N]=(0,r.useState)(!0),[D,E]=(0,r.useState)({open:!1,message:""}),L=(0,r.useCallback)(async()=>{try{const{data:{user:e}}=await o.N.auth.getUser();if(!e)return void I("/login");const{data:t,error:i}=await o.N.from("orders").select("*, order_items (*, product:products(*))").eq("id",j).eq("user_id",e.id).single();if(i)throw i;const{data:r}=await o.N.from("addresses").select("*").eq("order_id",j).maybeSingle();R((0,n.A)((0,n.A)({},t),{},{shipping_address:r}))}catch(e){console.error(e),I("/orders")}finally{N(!1)}},[j,I]);(0,r.useEffect)(()=>{L()},[L]);if(W)return(0,z.jsx)(a.A,{sx:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:(0,z.jsx)(l.A,{sx:{color:"black"}})});if(!T)return null;const P=(O=T.status,["pending","processing","shipped","delivered"].indexOf(null===O||void 0===O?void 0:O.toLowerCase()));var O;return(0,z.jsxs)(a.A,{sx:_.pageBackground,children:[(0,z.jsx)("style",{children:"\n        @keyframes float { 0% { transform: translateY(0px) rotateX(0deg); } 50% { transform: translateY(-5px) rotateX(1deg); } 100% { transform: translateY(0px) rotateX(0deg); } }\n        @keyframes slideIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }\n        .invoice-barcode {\n          height: 40px;\n          width: 100%;\n          background: repeating-linear-gradient(to right, #000 0px, #000 2px, transparent 2px, transparent 4px, #000 4px, #000 8px, transparent 8px, transparent 9px);\n          opacity: 0.8;\n        }\n      "}),(0,z.jsxs)(c.A,{maxWidth:"xl",sx:{px:{xs:2,md:6},py:6},children:[(0,z.jsxs)(a.A,{sx:_.topNav,children:[(0,z.jsx)(x.A,{startIcon:(0,z.jsx)(b.A,{size:18}),onClick:()=>I("/orders"),sx:_.backBtn,children:"RETURN TO ORDERS"}),(0,z.jsxs)(a.A,{sx:{display:"flex",gap:2},children:[(0,z.jsx)(d.A,{onClick:async()=>{const e=window.location.href;navigator.share?await navigator.share({title:"Order #".concat(T.order_number),url:e}):(navigator.clipboard.writeText(e),E({open:!0,message:"LINK COPIED"}))},sx:_.iconBtn,children:(0,z.jsx)(u.A,{size:20})}),(0,z.jsx)(d.A,{onClick:()=>window.print(),sx:_.iconBtn,children:(0,z.jsx)(y,{size:20})})]})]}),(0,z.jsxs)(p.A,{container:!0,spacing:6,children:[(0,z.jsxs)(p.A,{item:!0,xs:12,md:7,sx:{animation:"slideIn 0.6s ease-out"},children:[(0,z.jsxs)(a.A,{sx:{mb:6},children:[(0,z.jsxs)(h.A,{variant:"h1",sx:_.pageTitle,children:["ORDER #",T.order_number]}),(0,z.jsxs)(h.A,{sx:_.dateLabel,children:["PLACED ON ",new Date(T.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric"}).toUpperCase()]})]}),(0,z.jsxs)(a.A,{sx:_.glassCard,children:[(0,z.jsxs)(a.A,{sx:{display:"flex",alignItems:"center",mb:4,gap:2},children:[(0,z.jsx)(v.A,{size:24,color:"black"}),(0,z.jsx)(h.A,{sx:_.sectionHeader,children:"SHIPMENT STATUS"})]}),(0,z.jsx)(a.A,{sx:_.timelineContainer,children:["ORDERED","PROCESSING","SHIPPED","DELIVERED"].map((e,t)=>(0,z.jsxs)(a.A,{sx:_.timelineStep,children:[(0,z.jsx)(a.A,{sx:(0,n.A)((0,n.A)({},_.timelineDot),{},{bgcolor:t<=P?"black":"#eee",color:t<=P?"white":"transparent",borderColor:t<=P?"black":"#eee"}),children:(0,z.jsx)(k.A,{size:12,strokeWidth:4})}),(0,z.jsx)(h.A,{sx:(0,n.A)((0,n.A)({},_.timelineText),{},{color:t<=P?"black":"#999",fontWeight:t<=P?800:500}),children:e}),t<3&&(0,z.jsx)(a.A,{sx:(0,n.A)((0,n.A)({},_.timelineLine),{},{bgcolor:t<P?"black":"#eee"})})]},e))}),T.tracking_number&&(0,z.jsxs)(a.A,{sx:_.trackingBox,children:[(0,z.jsx)(h.A,{sx:{fontSize:"11px",fontWeight:800,color:"#666",mb:.5},children:"TRACKING ID"}),(0,z.jsx)(h.A,{sx:{fontSize:"16px",fontWeight:900,letterSpacing:"1px"},children:T.tracking_number}),(0,z.jsx)(h.A,{sx:{fontSize:"11px",fontWeight:600,color:"#999",mt:.5},children:null===(e=T.shipping_carrier)||void 0===e?void 0:e.toUpperCase()})]})]}),(0,z.jsxs)(a.A,{sx:{mt:4},children:[(0,z.jsxs)(h.A,{sx:(0,n.A)((0,n.A)({},_.sectionHeader),{},{mb:3}),children:["PURCHASED ASSETS (",T.order_items.length,")"]}),T.order_items.map((e,t)=>{var i,r,s,o;return(0,z.jsxs)(a.A,{sx:(0,n.A)((0,n.A)({},_.itemCard),{},{animationDelay:"".concat(.1*t,"s")}),children:[(0,z.jsx)("img",{src:null===(i=e.product)||void 0===i?void 0:i.image_url,alt:null===(r=e.product)||void 0===r?void 0:r.name,style:_.itemImg}),(0,z.jsxs)(a.A,{sx:{flex:1},children:[(0,z.jsx)(h.A,{sx:_.itemName,children:null===(s=e.product)||void 0===s?void 0:s.name}),(0,z.jsxs)(h.A,{sx:_.itemMeta,children:["SIZE: ",e.size||"N/A"," \u2022 QTY: ",e.quantity]})]}),(0,z.jsxs)(h.A,{sx:_.itemPrice,children:["\u20b9",null===(o=e.price_at_time)||void 0===o?void 0:o.toLocaleString()]})]},e.id)})]})]}),(0,z.jsx)(p.A,{item:!0,xs:12,md:5,children:(0,z.jsx)(a.A,{sx:_.invoiceWrapper,children:(0,z.jsxs)(f.A,{sx:_.invoicePaper,children:[(0,z.jsxs)(a.A,{sx:{textAlign:"center",mb:4},children:[(0,z.jsx)(h.A,{sx:{fontSize:"32px",fontWeight:900,letterSpacing:"-2px",lineHeight:1},children:"ONE-T"}),(0,z.jsx)(h.A,{sx:{fontSize:"10px",letterSpacing:"4px",color:"#666",mt:.5},children:"OFFICIAL INVOICE"})]}),(0,z.jsx)(g.A,{sx:{borderStyle:"dashed",borderColor:"#000",mb:4}}),(0,z.jsxs)(p.A,{container:!0,spacing:3,sx:{mb:4},children:[(0,z.jsx)(p.A,{item:!0,xs:6,children:(0,z.jsxs)(a.A,{sx:_.invoiceBlock,children:[(0,z.jsxs)(h.A,{sx:_.invoiceLabel,children:[(0,z.jsx)(S.A,{size:12})," SHIP TO"]}),T.shipping_address?(0,z.jsxs)(h.A,{sx:_.invoiceValue,children:[T.shipping_address.full_name,(0,z.jsx)("br",{}),T.shipping_address.address_line1,(0,z.jsx)("br",{}),T.shipping_address.city,", ",T.shipping_address.state]}):(0,z.jsx)(h.A,{sx:_.invoiceValue,children:"N/A"})]})}),(0,z.jsx)(p.A,{item:!0,xs:6,children:(0,z.jsxs)(a.A,{sx:_.invoiceBlock,children:[(0,z.jsxs)(h.A,{sx:_.invoiceLabel,children:[(0,z.jsx)(w,{size:12})," PAYMENT"]}),(0,z.jsxs)(h.A,{sx:_.invoiceValue,children:[null===(t=T.payment_method)||void 0===t?void 0:t.replace("_"," ").toUpperCase(),(0,z.jsx)("br",{}),"STATUS: ",null===(i=T.payment_status)||void 0===i?void 0:i.toUpperCase()]})]})})]}),(0,z.jsxs)(a.A,{sx:{bgcolor:"#f9f9f9",p:3,borderRadius:"12px"},children:[(0,z.jsxs)(a.A,{sx:_.costRow,children:[(0,z.jsx)(h.A,{sx:_.costLabel,children:"SUBTOTAL"}),(0,z.jsxs)(h.A,{sx:_.costValue,children:["\u20b9",T.subtotal]})]}),(0,z.jsxs)(a.A,{sx:_.costRow,children:[(0,z.jsx)(h.A,{sx:_.costLabel,children:"SHIPPING"}),(0,z.jsxs)(h.A,{sx:_.costValue,children:["\u20b9",T.shipping_cost]})]}),(0,z.jsx)(g.A,{sx:{my:2}}),(0,z.jsxs)(a.A,{sx:_.costRow,children:[(0,z.jsx)(h.A,{sx:(0,n.A)((0,n.A)({},_.costLabel),{},{fontSize:"14px",color:"black"}),children:"TOTAL PAID"}),(0,z.jsxs)(h.A,{sx:(0,n.A)((0,n.A)({},_.costValue),{},{fontSize:"20px"}),children:["\u20b9",T.total_amount]})]})]}),(0,z.jsxs)(a.A,{sx:{mt:5,textAlign:"center",opacity:.6},children:[(0,z.jsx)("div",{className:"invoice-barcode"}),(0,z.jsx)(h.A,{sx:{fontSize:"9px",mt:1,letterSpacing:"2px"},children:"AUTHENTICATED TRANSACTION"})]}),(0,z.jsx)(x.A,{fullWidth:!0,startIcon:(0,z.jsx)(C,{size:16}),variant:"outlined",sx:_.invoiceBtn,onClick:()=>window.print(),children:"DOWNLOAD PDF"})]})})})]})]}),(0,z.jsx)(m.A,{open:D.open,autoHideDuration:2e3,onClose:()=>E((0,n.A)((0,n.A)({},D),{},{open:!1})),anchorOrigin:{vertical:"bottom",horizontal:"center"},children:(0,z.jsx)(A.A,{severity:"success",sx:{bgcolor:"black",color:"white",fontWeight:700,borderRadius:"50px"},children:D.message})})]})}const _={pageBackground:{bgcolor:"#ffffff",minHeight:"100vh",pb:10},topNav:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:6,pb:2,borderBottom:"1px solid #f0f0f0"},backBtn:{color:"black",fontWeight:800,fontSize:"11px",letterSpacing:"1px","&:hover":{bgcolor:"transparent",textDecoration:"underline"}},iconBtn:{color:"black",border:"1px solid #eee","&:hover":{bgcolor:"#f5f5f5",borderColor:"black"}},pageTitle:{fontSize:{xs:"32px",md:"56px"},fontWeight:900,letterSpacing:"-2px",lineHeight:1,mb:1},dateLabel:{fontSize:"11px",fontWeight:700,color:"#999",letterSpacing:"1px"},sectionHeader:{fontSize:"12px",fontWeight:800,letterSpacing:"1px",textTransform:"uppercase",color:"#000"},glassCard:{bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"20px",p:4,boxShadow:"0 20px 40px rgba(0,0,0,0.03)",mb:4},timelineContainer:{display:"flex",justifyContent:"space-between",position:"relative",mb:4},timelineStep:{display:"flex",flexDirection:"column",alignItems:"center",flex:1,position:"relative",zIndex:1},timelineDot:{width:24,height:24,borderRadius:"50%",border:"2px solid",display:"flex",alignItems:"center",justifyContent:"center",mb:1.5,transition:"all 0.3s ease"},timelineText:{fontSize:"10px",letterSpacing:"0.5px",textAlign:"center"},timelineLine:{position:"absolute",top:12,left:"50%",width:"100%",height:2,zIndex:-1},trackingBox:{bgcolor:"#f9f9f9",p:2,borderRadius:"12px",border:"1px solid #eee"},itemCard:{display:"flex",alignItems:"center",gap:3,p:2,mb:2,bgcolor:"#fff",border:"1px solid #f0f0f0",borderRadius:"16px",transition:"transform 0.2s",animation:"slideIn 0.5s ease forwards","&:hover":{transform:"translateX(5px)",borderColor:"#000"}},itemImg:{width:60,height:60,objectFit:"cover",borderRadius:"8px",bgcolor:"#f0f0f0"},itemName:{fontWeight:800,fontSize:"13px",textTransform:"uppercase",mb:.5},itemMeta:{fontSize:"11px",color:"#666",fontWeight:600},itemPrice:{fontWeight:800,fontSize:"14px"},invoiceWrapper:{perspective:"1500px",position:"sticky",top:100,animation:"slideIn 0.8s ease-out"},invoicePaper:{p:5,bgcolor:"#fff",borderRadius:"4px",boxShadow:"0 1px 2px rgba(0,0,0,0.05), 0 30px 60px rgba(0,0,0,0.1)",transformStyle:"preserve-3d",animation:"float 6s ease-in-out infinite",borderTop:"6px solid black",position:"relative","&::after":{content:'""',position:"absolute",bottom:-10,left:0,right:0,height:10,background:"linear-gradient(45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%), linear-gradient(-45deg, transparent 33.333%, #fff 33.333%, #fff 66.667%, transparent 66.667%)",backgroundSize:"20px 20px",backgroundPosition:"0 0"}},invoiceBlock:{mb:2},invoiceLabel:{fontSize:"10px",fontWeight:800,color:"#999",letterSpacing:"1px",mb:1,display:"flex",alignItems:"center",gap:.5},invoiceValue:{fontSize:"12px",fontWeight:600,lineHeight:1.5,color:"#333"},costRow:{display:"flex",justifyContent:"space-between",mb:1},costLabel:{fontSize:"11px",fontWeight:700,color:"#666"},costValue:{fontSize:"12px",fontWeight:800,color:"#000"},invoiceBtn:{mt:4,color:"black",borderColor:"black",borderRadius:0,fontWeight:800,fontSize:"11px",letterSpacing:"1px",py:1.5,borderWidth:"2px","&:hover":{borderWidth:"2px",bgcolor:"black",color:"white"}}}},81024(e,t,i){i.d(t,{A:()=>n});const n=(0,i(33797).A)("Check",[["polyline",{points:"20 6 9 17 4 12",key:"10jjfj"}]])}}]);
//# sourceMappingURL=931.5cd49d63.chunk.js.map